System.register("chunks:///_virtual/Analytics.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"58a3eWGbJZPhIaCenOxtyuf","Analytics",void 0);t("Analytics",function(){function t(t){this.totalTime=0,this.minutesInGame=-1,this.gamesPerSession=0,this.y8=t}var n=t.prototype;return n.update=function(t){this.totalTime+=t,this.trySendTotalTime()},n.gameStart=function(){},n.gameEnd=function(t){},n.gameExit=function(t){},n.goldPerRun=function(t){},n.trySendTotalTime=function(){this.minutesInGame,Math.floor(this.totalTime/60)},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/AnimatedEnemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enemy.ts"],(function(i){var n,t,e,a,o,r,l,s;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){o=i.cclegacy,r=i._decorator,l=i.Animation},function(i){s=i.Enemy}],execute:function(){var c,m,u,y,p;o._RF.push({},"2fbd7DLmiNFybvIJxxrW6Iu","AnimatedEnemy",void 0);var d=r.ccclass,h=r.property;i("AnimatedEnemy",(c=d("AnimatedEnemy"),m=h(l),c((p=n((y=function(i){function n(){for(var n,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n=i.call.apply(i,[this].concat(o))||this,e(n,"animation",p,a(n)),n.isAnimatingIdle=!1,n}t(n,i);var o=n.prototype;return o.gameTick=function(n,t){i.prototype.gameTick.call(this,n,t),console.log("Move x:  "+n.x+" Move y:  "+n.y),0===n.x&&0===n.y?this.animateIdle():this.animateRun()},o.animateIdle=function(){this.isAnimatingIdle||(this.isAnimatingIdle=!0,this.animation.play("Idle"))},o.animateRun=function(){this.isAnimatingIdle&&(this.isAnimatingIdle=!1,this.animation.play("Run"))},n}(s)).prototype,"animation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=y))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameAssets.ts","./AudioPlayer.ts","./SaveSystem.ts","./ModalWindowManager.ts","./OpenCloseAnimator.ts","./Y8.ts","./Analytics.ts"],(function(e){var t,n,i,a,s,r,o,l,u,c,y,d,p,g,f,h,m,v,A,b,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.createClass,r=e.asyncToGenerator},function(e){o=e.cclegacy,l=e._decorator,u=e.JsonAsset,c=e.Prefab,y=e.Camera,d=e.director,p=e.Component,g=e.instantiate},function(e){f=e.GameAssets},function(e){h=e.AudioPlayer},function(e){m=e.SaveSystem},function(e){v=e.ModalWindowManager},function(e){A=e.OpenCloseAnimator},function(e){b=e.Y8},function(e){w=e.Analytics}],execute:function(){var k,z,D,S,M,P,C,F,U,R,L,T,W,G,_,j,I,O,Y,B;o._RF.push({},"4943dSvt9FBvLizJ1HhFOzg","AppRoot",void 0);var H=l.ccclass,J=l.property;e("AppRoot",(k=H("AppRoot"),z=J(h),D=J(u),S=J(u),M=J(c),P=J(y),C=J(v),F=J(A),U=J(b),k(((B=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(t,"audio",T,a(t)),i(t,"settingsAsset",W,a(t)),i(t,"engTranslationAsset",G,a(t)),i(t,"gameAssetsPrefab",_,a(t)),i(t,"mainCamera",j,a(t)),i(t,"modalWindowManager",I,a(t)),i(t,"screenFader",O,a(t)),i(t,"y8",Y,a(t)),t.saveSystem=void 0,t.liveUserData=void 0,t.gameAssets=void 0,t.analytics=void 0,t}n(t,e);var o=t.prototype;return o.saveUserData=function(){this.saveSystem.save(this.liveUserData)},o.start=function(){null==t.Instance?(t.instance=this,d.addPersistRootNode(this.node),this.init()):this.node.destroy()},o.update=function(e){this.analytics&&this.analytics.update(e)},o.init=function(){var e=r((function*(){this.saveSystem=new m,this.liveUserData=this.saveSystem.load();var e=g(this.gameAssetsPrefab);e.setParent(this.node),this.gameAssets=e.getComponent(f),this.gameAssets.init(),this.audio.init(this.LiveUserData.soundVolume,this.LiveUserData.musicVolume),this.screenFader.init(),this.screenFader.node.active=!1,yield this.y8.init(),this.analytics=new w(this.y8)}));return function(){return e.apply(this,arguments)}}(),s(t,[{key:"AudioPlayer",get:function(){return this.audio}},{key:"GameAssets",get:function(){return this.gameAssets}},{key:"LiveUserData",get:function(){return this.liveUserData}},{key:"Settings",get:function(){return this.settingsAsset.json}},{key:"TranslationData",get:function(){return this.engTranslationAsset.json}},{key:"ModalWindowManager",get:function(){return this.modalWindowManager}},{key:"MainCamera",get:function(){return this.mainCamera}},{key:"ScreenFader",get:function(){return this.screenFader}},{key:"Y8",get:function(){return this.y8}},{key:"Analytics",get:function(){return this.analytics}}],[{key:"Instance",get:function(){return this.instance}}]),t}(p)).instance=void 0,T=t((L=B).prototype,"audio",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(L.prototype,"settingsAsset",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(L.prototype,"engTranslationAsset",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(L.prototype,"gameAssetsPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(L.prototype,"mainCamera",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(L.prototype,"modalWindowManager",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=t(L.prototype,"screenFader",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(L.prototype,"y8",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=L))||R));o._RF.pop()}}}));

System.register("chunks:///_virtual/AppRootUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncUtils.ts","./AppRoot.ts"],(function(n){var o,t,e,c;return{setters:[function(n){o=n.asyncToGenerator},function(n){t=n.cclegacy},function(n){e=n.delay},function(n){c=n.AppRoot}],execute:function(){function s(){return(s=o((function*(){for(console.log("Waiting for app root");null==c.Instance;)yield e(10);c.Instance.node.setSiblingIndex(1e3),c.Instance.node.active=!1,c.Instance.node.active=!0,console.log("App root ready")}))).apply(this,arguments)}n("requireAppRootAsync",(function(){return s.apply(this,arguments)})),t._RF.push({},"43cfbVDTGJMNrso8wey4dKA","AppRootUtils",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtils.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){t("shuffle",(function(t){for(var r=[].concat(t),c=r.length-1;c>0;c--){var n=Math.floor(Math.random()*(c+1)),e=[r[n],r[c]];r[c]=e[0],r[n]=e[1]}return r})),r._RF.push({},"4cd53HZVBlEDYgMNs4P4ylV","ArrayUtils",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e;return{setters:[function(n){t=n.asyncToGenerator},function(n){e=n.cclegacy}],execute:function(){function r(){return(r=t((function*(n){return new Promise((function(t){return setTimeout(t,n)}))}))).apply(this,arguments)}n("delay",(function(n){return r.apply(this,arguments)})),e._RF.push({},"a920eXh9GlPS62B+ifUnwOJ","AsyncUtils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/AudioAssets.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,s,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,c=t.AudioClip,u=t.Component}],execute:function(){var a,l,p,A,d;o._RF.push({},"20793WnayxKkrU5an4AntLg","AudioAssets",void 0);var f=s.ccclass,y=s.property;t("AudioAssets",(a=f("AudioAssets"),l=y(c),a((d=e((A=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(e,"buttonClick",d,n(e)),e}return i(e,t),e}(u)).prototype,"buttonClick",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=A))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var u,o,i,t,r,n,c,s,l;return{setters:[function(e){u=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized,r=e.createClass},function(e){n=e.cclegacy,c=e._decorator,s=e.AudioSource,l=e.Component}],execute:function(){var a,p,m,d,y,S,h;n._RF.push({},"958e24+jRZMdr5ue2HNRuRM","AudioPlayer",void 0);var f=c.ccclass,v=c.property;e("AudioPlayer",(a=f("AudioPlayer"),p=v(s),m=v(s),a((S=u((y=function(e){function u(){for(var u,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return u=e.call.apply(e,[this].concat(r))||this,i(u,"soundSource",S,t(u)),i(u,"musicSource",h,t(u)),u}o(u,e);var n=u.prototype;return n.init=function(e,u){this.setSoundVolume(e),this.setMusicVolume(u)},n.setSoundVolume=function(e){this.soundSource.volume=e},n.setMusicVolume=function(e){this.musicSource.volume=e},n.playSound=function(e){this.soundSource.playOneShot(e)},n.playMusic=function(e){this.musicSource.stop(),this.musicSource.clip=e,this.musicSource.play()},r(u,[{key:"SoundVolume",get:function(){return this.soundSource.volume}},{key:"MusicVolume",get:function(){return this.musicSource.volume}}]),u}(l)).prototype,"soundSource",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=u(y.prototype,"musicSource",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioSettingsModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./ModalWindow.ts","./UIButton.ts"],(function(e){var o,i,t,n,s,u,l,r,d,a;return{setters:[function(e){o=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,u=e._decorator,l=e.Slider},function(e){r=e.AppRoot},function(e){d=e.ModalWindow},function(e){a=e.UIButton}],execute:function(){var c,p,m,h,S,V,f,g,y;s._RF.push({},"0c0521PyCxK/6XtpzF/acnv","AudioSettingsModalWindow",void 0);var v=u.ccclass,A=u.property;e("AudioSettingsModalWindow",(c=v("AudioSettingsModalWindow"),p=A(l),m=A(l),h=A(a),c((f=o((V=function(e){function o(){for(var o,i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return o=e.call.apply(e,[this].concat(s))||this,t(o,"soundVolumeSlider",f,n(o)),t(o,"musicVolumeSlider",g,n(o)),t(o,"okButton",y,n(o)),o}i(o,e);var s=o.prototype;return s.setup=function(){this.soundVolumeSlider.progress=r.Instance.AudioPlayer.SoundVolume,this.musicVolumeSlider.progress=r.Instance.AudioPlayer.MusicVolume,this.soundVolumeSlider.node.on("slide",this.updateSoundVolume,this),this.musicVolumeSlider.node.on("slide",this.updateMusicVolume,this),this.okButton.InteractedEvent.on(this.dismiss,this)},s.updateSoundVolume=function(){r.Instance.AudioPlayer.setSoundVolume(this.soundVolumeSlider.progress)},s.updateMusicVolume=function(){r.Instance.AudioPlayer.setMusicVolume(this.musicVolumeSlider.progress)},s.dismiss=function(o){e.prototype.dismiss.call(this,o);var i=r.Instance.LiveUserData;i.musicVolume=this.musicVolumeSlider.progress,i.soundVolume=this.soundVolumeSlider.progress,r.Instance.saveUserData()},o}(d)).prototype,"soundVolumeSlider",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=o(V.prototype,"musicVolumeSlider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=o(V.prototype,"okButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=V))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/Background.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConstants.ts"],(function(i){var s,t,o,n,r,e,a,d,c,h,u,l,p;return{setters:[function(i){s=i.applyDecoratedDescriptor,t=i.inheritsLoose,o=i.initializerDefineProperty,n=i.assertThisInitialized},function(i){r=i.cclegacy,e=i._decorator,a=i.Prefab,d=i.randomRangeInt,c=i.instantiate,h=i.Vec3,u=i.Component},function(i){l=i.SCREEN_HALF_WIDTH,p=i.SCREEN_HALF_HEIGHT}],execute:function(){var g,f,P,k,y;r._RF.push({},"26e600FC3xNlZNOihGlWfAd","Background",void 0);var v=e.ccclass,B=e.property;i("Background",(g=v("Background"),f=B(a),g((y=s((k=function(i){function s(){for(var s,t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return s=i.call.apply(i,[this].concat(r))||this,o(s,"backgroundPrefabs",y,n(s)),s.targetNode=void 0,s.instancedBackgrounds=[],s.rows=3,s.columns=3,s.nodeSize=512,s.playerGridPosX=0,s.playerGridPosY=0,s}t(s,i);var r=s.prototype;return r.init=function(i){this.targetNode=i;for(var s=0;s<this.rows;s++){for(var t=[],o=0;o<this.columns;o++){var n=d(0,this.backgroundPrefabs.length),r=c(this.backgroundPrefabs[n]);r.setParent(this.node);var e=o*this.nodeSize-this.nodeSize+l,a=s*this.nodeSize-this.nodeSize+p;r.setWorldPosition(new h(e,a,0)),t.push(r)}this.instancedBackgrounds.push(t)}},r.gameTick=function(){this.tryTileX(),this.tryTileY()},r.tryTileX=function(){var i=Math.round((this.targetNode.worldPosition.x-l)/this.nodeSize);if(i<this.playerGridPosX)for(var s=this.columns-1,t=0;t<this.rows;t++){var o=this.instancedBackgrounds[t][s],n=o.worldPosition;n.x-=this.columns*this.nodeSize,o.setWorldPosition(n),this.instancedBackgrounds[t].splice(s,1),this.instancedBackgrounds[t].unshift(o)}else if(this.playerGridPosX<i)for(var r=0;r<this.rows;r++){var e=this.instancedBackgrounds[r][0],a=e.worldPosition;a.x+=this.columns*this.nodeSize,e.setWorldPosition(a),this.instancedBackgrounds[r].splice(0,1),this.instancedBackgrounds[r].push(e)}this.playerGridPosX=i},r.tryTileY=function(){var i=Math.round((this.targetNode.worldPosition.y-p)/this.nodeSize);if(i<this.playerGridPosY){for(var s=this.rows-1,t=[],o=0;o<this.columns;o++){var n=this.instancedBackgrounds[s][o],r=n.worldPosition;r.y-=this.rows*this.nodeSize,n.setWorldPosition(r),t.push(n)}this.instancedBackgrounds.splice(s,1),this.instancedBackgrounds.unshift(t)}else if(this.playerGridPosY<i){for(var e=[],a=0;a<this.columns;a++){var d=this.instancedBackgrounds[0][a],c=d.worldPosition;c.y+=this.rows*this.nodeSize,d.setWorldPosition(c),e.push(d)}this.instancedBackgrounds.splice(0,1),this.instancedBackgrounds.push(e)}this.playerGridPosY=i},s}(u)).prototype,"backgroundPrefabs",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=k))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/BossEnemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GroupType.ts","./Enemy.ts"],(function(i){var t,n,o,e,a,s,r,l,c,u,p;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,o=i.initializerDefineProperty,e=i.assertThisInitialized},function(i){a=i.cclegacy,s=i._decorator,r=i.Collider2D,l=i.Animation,c=i.Contact2DType},function(i){u=i.GroupType},function(i){p=i.Enemy}],execute:function(){var m,y,h,A,f,g,d;a._RF.push({},"8daaeyGqNVNzp9oN99xFcSw","BossEnemy",void 0);var E=s.ccclass,b=s.property;i("BossEnemy",(m=E("BossEnemy"),y=b(r),h=b(l),m((g=t((f=function(i){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=i.call.apply(i,[this].concat(a))||this,o(t,"bossCollider",g,e(t)),o(t,"animation",d,e(t)),t.isAnimatingAttack=!1,t}n(t,i);var a=t.prototype;return a.start=function(){this.bossCollider.on(c.BEGIN_CONTACT,this.collisionBegin,this),this.bossCollider.on(c.END_CONTACT,this.collisionEnd,this)},a.collisionBegin=function(i,t){t.group===u.PLAYER&&this.animateAttack()},a.collisionEnd=function(i,t){t.group===u.PLAYER&&this.animateMove()},a.animateAttack=function(){this.isAnimatingAttack||(this.isAnimatingAttack=!0,this.animation.play("Attack"))},a.animateMove=function(){this.isAnimatingAttack&&(this.isAnimatingAttack=!1,this.animation.play("Run"))},t}(p)).prototype,"bossCollider",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(f.prototype,"animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=f))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/ChestModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModalWindow.ts","./UIButton.ts","./LevelUpSkill.ts"],(function(t){var e,n,i,l,o,r,a,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.randomRangeInt},function(t){s=t.ModalWindow},function(t){u=t.UIButton},function(t){c=t.LevelUpSkill}],execute:function(){var p,d,h,f,v,g,w;o._RF.push({},"422c899zDhMapxhQgwpGmEL","ChestModalWindow",void 0);var y=r.ccclass,b=r.property;t("ChestModalWindow",(p=y("ChestModalWindow"),d=b(c),h=b(u),p((g=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"levelUpSkill",g,l(e)),i(e,"okButton",w,l(e)),e}return n(e,t),e.prototype.setup=function(t){var e=this,n=a(0,t.availableUpgrades.length-1),i=t.availableUpgrades[n];this.levelUpSkill.init(i,t.translationData),this.okButton.InteractedEvent.on((function(){return e.dismiss(i)}),this)},e}(s)).prototype,"levelUpSkill",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(v.prototype,"okButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/CircularEnemySpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTimer.ts","./MathUtils.ts","./DelayedEnemySpawner.ts"],(function(e){var n,i,o,a,r;return{setters:[function(e){n=e.inheritsLoose},function(e){i=e.cclegacy},function(e){o=e.GameTimer},function(e){a=e.roundToOneDecimal},function(e){r=e.DelayedEnemySpawner}],execute:function(){i._RF.push({},"2e8e2Nq/N1Jlar/vogCSI2M","CircularEnemySpawner",void 0);e("CircularEnemySpawner",function(e){function i(n,i){var a;return(a=e.call(this,i.common.startDelay,i.common.stopDelay)||this).spawnTimer=void 0,a.enemyId=void 0,a.enemiesToSpawn=void 0,a.enemySpawner=n,a.spawnTimer=new o(i.common.cooldown),a.enemyId=i.common.enemyId,a.enemiesToSpawn=i.enemiesToSpawn,a}return n(i,e),i.prototype.delayedGameTick=function(e){if(this.spawnTimer.gameTick(e),this.spawnTimer.tryFinishPeriod())for(var n=2*Math.PI/this.enemiesToSpawn,i=0;i<this.enemiesToSpawn;i++){var o=600*a(Math.sin(n*i)),r=600*a(Math.cos(n*i));this.enemySpawner.spawnNewEnemy(o,r,this.enemyId)}},i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DelayedEnemySpawner.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"98291mVfbtA2rzmTKndfMRf","DelayedEnemySpawner",void 0);e("DelayedEnemySpawner",function(){function e(e,t){this.currentTime=0,this.startDelay=e,this.stopDelay=t,-1===t&&(this.stopDelay=Number.MAX_SAFE_INTEGER)}return e.prototype.gameTick=function(e){this.currentTime+=e,this.startDelay<=this.currentTime&&this.currentTime<=this.stopDelay&&this.delayedGameTick(e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./AsyncUtils.ts","./UnitHealth.ts"],(function(e){var t,i,n,a,r,o,h,s,d,l,c,u,f,p,m,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass,o=e.asyncToGenerator},function(e){h=e.cclegacy,s=e._decorator,d=e.BoxCollider2D,l=e.Sprite,c=e.Material,u=e.randomRange,f=e.Component},function(e){p=e.Signal},function(e){m=e.delay},function(e){g=e.UnitHealth}],execute:function(){var y,v,w,R,C,E,L,b,k,P,T;h._RF.push({},"7f8b6NKHsNNW5nLY3fwejhw","Enemy",void 0);var x=s.ccclass,M=s.property;e("Enemy",(y=x("Enemy"),v=M(d),w=M(l),R=M(c),C=M(c),y((b=t((L=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"collider",b,a(t)),n(t,"sprite",k,a(t)),n(t,"defaultMaterial",P,a(t)),n(t,"whiteMaterial",T,a(t)),t.deathEvent=new p,t.lifetimeEndedEvent=new p,t.id=void 0,t.movementType=void 0,t.health=void 0,t.damage=void 0,t.speedX=void 0,t.speedY=void 0,t.lifetimeLeft=void 0,t.xpReward=void 0,t.goldReward=void 0,t.healthPotionRewardChance=void 0,t.magnetRewardChance=void 0,t.chestRewardChance=void 0,t.endOfLifetimeTriggered=!1,t}i(t,e);var h=t.prototype;return h.setup=function(e,t){this.id=t.id,this.movementType=t.moveType,this.health=new g(t.health),this.damage=t.damage,this.speedX=u(t.speed/2,t.speed),this.speedY=u(t.speed/2,t.speed),this.lifetimeLeft=t.lifetime,this.xpReward=t.xpReward,this.goldReward=t.goldReward,this.healthPotionRewardChance=t.healthPotionRewardChance,this.magnetRewardChance=t.magnetRewardChance,this.chestRewardChance=t.chestRewardChance,this.node.setWorldPosition(e),this.node.active=!0,this.health.HealthPointsChangeEvent.on(this.animateHurt,this),this.endOfLifetimeTriggered=!1},h.dealDamage=function(e){this.health.damage(e),this.health.IsAlive||this.deathEvent.trigger(this)},h.gameTick=function(e,t){var i=this.node.worldPosition;i.x+=e.x*this.speedX*t,i.y+=e.y*this.speedY*t,e.x<0?this.sprite.node.setScale(-1,1,1):0<e.x&&this.sprite.node.setScale(1,1,1),this.node.setWorldPosition(i),0<this.lifetimeLeft&&(this.lifetimeLeft-=t,this.lifetimeLeft<=0?this.lifetimeEndedEvent.trigger(this):this.lifetimeLeft<=2&&this.animateEndOfLifetime())},h.animateEndOfLifetime=function(){var e=o((function*(){if(!this.endOfLifetimeTriggered)for(this.endOfLifetimeTriggered=!0;null!=(e=this.node)&&e.active;){var e;if(this.sprite.node.active=!1,yield m(200),null==this.sprite)break;this.sprite.node.active=!0,yield m(200)}}));return function(){return e.apply(this,arguments)}}(),h.animateHurt=function(){var e=o((function*(){this.sprite.material=this.whiteMaterial,yield m(100),this.sprite.material=this.defaultMaterial}));return function(){return e.apply(this,arguments)}}(),r(t,[{key:"Id",get:function(){return this.id}},{key:"MovementType",get:function(){return this.movementType}},{key:"Collider",get:function(){return this.collider}},{key:"Damage",get:function(){return this.damage}},{key:"Health",get:function(){return this.health}},{key:"DeathEvent",get:function(){return this.deathEvent}},{key:"XPReward",get:function(){return this.xpReward}},{key:"GoldReward",get:function(){return this.goldReward}},{key:"HealthPotionRewardChance",get:function(){return this.healthPotionRewardChance}},{key:"MagnetRewardChance",get:function(){return this.magnetRewardChance}},{key:"ChestRewardChance",get:function(){return this.chestRewardChance}},{key:"LifetimeEndedEvent",get:function(){return this.lifetimeEndedEvent}}]),t}(f)).prototype,"collider",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(L.prototype,"sprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(L.prototype,"defaultMaterial",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(L.prototype,"whiteMaterial",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=L))||E));h._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyDeathEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,a,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.Animation,s=e.Component}],execute:function(){var l,p,f,u,h;r._RF.push({},"213a9aw7AxJUZPp4rSYoD+B","EnemyDeathEffect",void 0);var y=a.ccclass,m=a.property;e("EnemyDeathEffect",(l=y("EnemyDeathEffect"),p=m(c),l((h=t((u=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"animation",h,o(t)),t}return n(t,e),t.prototype.setup=function(e){this.node.setWorldPosition(e),this.node.active=!0,this.animation.play("DeathEffect")},t}(s)).prototype,"animation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=u))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyDeathEffectSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts","./AsyncUtils.ts"],(function(e){var t,n,o,i,r,a,f,c,s,h,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator},function(e){a=e.cclegacy,f=e._decorator,c=e.Prefab,s=e.Component},function(e){h=e.ObjectPool},function(e){l=e.delay}],execute:function(){var u,d,y,E,p;a._RF.push({},"3d2079Oe4hGb4KAQJkl2Luy","EnemyDeathEffectSpawner",void 0);var m=f.ccclass,v=f.property;e("EnemyDeathEffectSpawner",(u=m("EnemyDeathEffectSpawner"),d=v(c),u((p=t((E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"deathEffectPrefab",p,i(t)),t.effectPool=void 0,t}n(t,e);var a=t.prototype;return a.init=function(e){e.EnemyAddedEvent.on(this.onEnemyAdded,this),e.EnemyRemovedEvent.on(this.onEnemyRemoved,this),this.effectPool=new h(this.deathEffectPrefab,this.node,5,"EnemyDeathEffect")},a.onEnemyAdded=function(e){e.DeathEvent.on(this.animateDeathEffect,this)},a.onEnemyRemoved=function(e){e.DeathEvent.off(this.animateDeathEffect)},a.animateDeathEffect=function(){var e=r((function*(e){var t=this.effectPool.borrow();t.setup(e.node.worldPosition),yield l(360),this.effectPool.return(t)}));return function(t){return e.apply(this,arguments)}}(),t}(s)).prototype,"deathEffectPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyGraphicsType.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"13c8fxIoatKAKoQ0oboUhuI","EnemyGraphicsType",void 0);e("EnemyGraphicsType",function(e){return e.Bat="Bat",e.Goblin="Goblin",e.Shark="Shark",e.Skeleton="Skeleton",e.BossOrcKing="BossOrcKing",e.BossStoneGolem="BossStoneGolem",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyMovementType.ts","./FollowTargetEnemyMover.ts","./PeriodicFollowMovers.ts","./WaveEnemyMover.ts","./CircularEnemySpawner.ts","./EnemySpawner.ts","./IndividualEnemySpawner.ts","./WaveEnemySpawner.ts"],(function(e){var n,o,r,t,i,a,m,s,v,y,p,c,u,l,w,E,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose,a=e.createClass},function(e){m=e.cclegacy,s=e._decorator,v=e.Component},function(e){y=e.EnemyMovementType},function(e){p=e.FollowTargetEnemyMover},function(e){c=e.PeriodicFollowMovers},function(e){u=e.WaveEnemyMover},function(e){l=e.CircularEnemySpawner},function(e){w=e.EnemySpawner},function(e){E=e.IndividualEnemySpawner},function(e){d=e.WaveEnemySpawner}],execute:function(){var h,f,M,T,S;m._RF.push({},"839f4SZvHNBFaiDSpMi6pOJ","EnemyManager",void 0);var g=s.ccclass,F=s.property;e("EnemyManager",(h=g("EnemyManager"),f=F(w),h((S=n((T=function(e){function n(){for(var n,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=e.call.apply(e,[this].concat(i))||this,r(n,"enemySpawner",S,t(n)),n.movementTypeToMover=new Map,n.spawners=[],n}o(n,e);var m=n.prototype;return m.init=function(e,n){this.enemySpawner.init(e,n.enemies),this.enemySpawner.EnemyAddedEvent.on(this.onEnemyAdded,this),this.enemySpawner.EnemyRemovedEvent.on(this.onEnemyRemoved,this);for(var o,r=i(n.individualEnemySpawners);!(o=r()).done;){var t=o.value,a=new E(this.enemySpawner,t);this.spawners.push(a)}for(var m,s=i(n.circularEnemySpawners);!(m=s()).done;){var v=m.value,w=new l(this.enemySpawner,v);this.spawners.push(w)}for(var h,f=i(n.waveEnemySpawners);!(h=f()).done;){var M=h.value,T=new d(this.enemySpawner,M);this.spawners.push(T)}this.movementTypeToMover.set(y.Follow,new p(e)),this.movementTypeToMover.set(y.Launch,new u(e)),this.movementTypeToMover.set(y.PeriodicFollow,new c(e,n.periodicFollowMovers))},m.gameTick=function(e){for(var n,o=i(this.spawners);!(n=o()).done;){n.value.gameTick(e)}for(var r,t=i(this.movementTypeToMover);!(r=t()).done;){r.value[1].gameTick(e)}},m.onEnemyAdded=function(e){this.getEnemyMover(e).addEnemy(e)},m.onEnemyRemoved=function(e){this.getEnemyMover(e).removeEnemy(e)},m.getEnemyMover=function(e){if(this.movementTypeToMover.has(e.MovementType))return this.movementTypeToMover.get(e.MovementType);throw new Error("Does not have mover of type "+e.MovementType)},a(n,[{key:"EnemyAddedEvent",get:function(){return this.enemySpawner.EnemyAddedEvent}},{key:"EnemyRemovedEvent",get:function(){return this.enemySpawner.EnemyRemovedEvent}}]),n}(v)).prototype,"enemySpawner",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=T))||M));m._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyMovementType.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"a3031+lGB1Ic7TnhvWjtcQz","EnemyMovementType",void 0);e("EnemyMovementType",function(e){return e.Follow="Follow",e.PeriodicFollow="PeriodicFollow",e.Launch="Launch",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyMover.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"179f7v6RPxPQZQySuxPOZGm","EnemyMover",void 0);e("EnemyMover",function(){function e(e){this.targetNode=void 0,this.enemies=[],this.targetNode=e}var t=e.prototype;return t.addEnemy=function(e){this.enemies.push(e)},t.removeEnemy=function(e){var t=this.enemies.indexOf(e);-1!=t&&this.enemies.splice(t,1)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EnemyProjectileLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTimer.ts"],(function(e){var i,t,n,o,r;return{setters:[function(e){i=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy,n=e.Vec3,o=e.Vec2},function(e){r=e.GameTimer}],execute:function(){t._RF.push({},"057f61C/hlFr77+jWZfiiAf","EnemyProjectileLauncher",void 0);e("EnemyProjectileLauncher",function(){function e(e,i,t,n){this.enemyToTimer=new Map,this.cooldown=void 0,this.enemyIds=void 0,this.projectileLauncher=e,this.playerNode=i,t.EnemyAddedEvent.on(this.tryAddEnemy,this),t.EnemyRemovedEvent.on(this.tryRemoveEnemy,this),this.cooldown=n.cooldown,this.enemyIds=n.enemyIds,e.init(n.projectileLifetime,n.projectileSpeed,n.projectileDamage,1)}var t=e.prototype;return t.tryAddEnemy=function(e){this.enemyIds.includes(e.Id)&&this.enemyToTimer.set(e,new r(this.cooldown))},t.tryRemoveEnemy=function(e){this.enemyToTimer.has(e)&&this.enemyToTimer.delete(e)},t.gameTick=function(e){this.projectileLauncher.gameTick(e);for(var t,r=i(this.enemyToTimer);!(t=r()).done;){var c=t.value,s=c[0].node.worldPosition,m=c[1];if(m.gameTick(e),m.tryFinishPeriod()){var d=new n;d=n.subtract(d,this.playerNode.worldPosition,s),this.projectileLauncher.fireProjectiles(s,[new o(d.x,d.y)])}}},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EnemySpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./ObjectPool.ts"],(function(e){var t,n,r,o,i,s,a,c,d,y,m,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose,s=e.createClass},function(e){a=e.cclegacy,c=e._decorator,d=e.Prefab,y=e.Vec3,m=e.Component},function(e){h=e.Signal},function(e){p=e.ObjectPool}],execute:function(){var u,l,v,f,E;a._RF.push({},"2260cGJEAdNlpJwzk5tNSzU","EnemySpawner",void 0);var g=c.ccclass,w=c.property;e("EnemySpawner",(u=g("EnemySpawner"),l=w(d),u((E=t((f=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(t,"enemies",E,o(t)),t.enemyAddedEvent=new h,t.enemyRemovedEvent=new h,t.enemyGraphicsTypeToPool=new Map,t.targetNode=void 0,t.idToSettings=new Map,t}n(t,e);var a=t.prototype;return a.init=function(e,t){this.targetNode=e;for(var n,r=i(this.enemies);!(n=r()).done;){var o=n.value,s=new p(o,this.node,50,"Enemy");this.enemyGraphicsTypeToPool.set(o.name,s)}for(var a,c=i(t);!(a=c()).done;){var d=a.value;this.idToSettings.set(d.id,d)}},a.spawnNewEnemy=function(e,t,n){if(!this.idToSettings.has(n))throw new Error("Does not have setting for enemy "+n);var r=this.idToSettings.get(n),o=this.enemyGraphicsTypeToPool.get(r.graphicsType).borrow(),i=new y;return i.x=this.targetNode.worldPosition.x+e,i.y=this.targetNode.worldPosition.y+t,o.setup(i,r),o.DeathEvent.on(this.returnEnemy,this),o.LifetimeEndedEvent.on(this.returnEnemy,this),this.enemyAddedEvent.trigger(o),o},a.returnEnemy=function(e){e.DeathEvent.off(this.returnEnemy),e.LifetimeEndedEvent.off(this.returnEnemy),console.log(e.name),this.enemyGraphicsTypeToPool.get(e.node.name).return(e),this.enemyRemovedEvent.trigger(e)},s(t,[{key:"EnemyAddedEvent",get:function(){return this.enemyAddedEvent}},{key:"EnemyRemovedEvent",get:function(){return this.enemyRemovedEvent}}]),t}(m)).prototype,"enemies",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=f))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/FollowTargetEnemyMover.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyMover.ts"],(function(e){var o,t,n,r;return{setters:[function(e){o=e.inheritsLoose},function(e){t=e.cclegacy,n=e.Vec3},function(e){r=e.EnemyMover}],execute:function(){t._RF.push({},"20a3fVrQC1GOZYpyQ9w9VIG","FollowTargetEnemyMover",void 0);e("FollowTargetEnemyMover",function(e){function t(){return e.apply(this,arguments)||this}return o(t,e),t.prototype.gameTick=function(e){var o=this;this.enemies.forEach((function(t){var r=new n;r=n.subtract(r,o.targetNode.worldPosition,t.node.worldPosition),t.gameTick(r.normalize(),e)}))},t}(r));t._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./AppRootUtils.ts","./AsyncUtils.ts","./GameAudioAdapter.ts","./Background.ts","./MagnetCollisionSystem.ts","./PlayerCollisionSystem.ts","./PlayerProjectileCollisionSystem.ts","./WeaponCollisionSystem.ts","./KeyboardInput.ts","./MultiInput.ts","./VirtualJoystic.ts","./ItemAttractor.ts","./ItemManager.ts","./GameModalLauncher.ts","./Pauser.ts","./GameUI.ts","./EnemyDeathEffectSpawner.ts","./EnemyManager.ts","./EnemyProjectileLauncher.ts","./MetaUpgrades.ts","./Player.ts","./HaloProjectileLauncher.ts","./ProjectileData.ts","./ProjectileLauncher.ts","./WaveProjectileLauncher.ts","./Upgrader.ts","./UpgradeType.ts"],(function(e){var t,a,i,n,r,o,l,c,s,u,h,m,p,g,y,d,P,f,b,L,j,w,M,v,A,C,z,k,R,U,I,S,D,E,T,G,x,O,W,_,V,H;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass,o=e.asyncToGenerator},function(e){l=e.cclegacy,c=e._decorator,s=e.Canvas,u=e.Node,h=e.Component,m=e.KeyCode,p=e.Vec2},function(e){g=e.AppRoot},function(e){y=e.requireAppRootAsync},function(e){d=e.delay},function(e){P=e.GameAudioAdapter},function(e){f=e.Background},function(e){b=e.MagnetCollisionSystem},function(e){L=e.PlayerCollisionSystem},function(e){j=e.PlayerProjectileCollisionSystem},function(e){w=e.WeaponCollisionSystem},function(e){M=e.KeyboardInput},function(e){v=e.MultiInput},function(e){A=e.VirtualJoystic},function(e){C=e.ItemAttractor},function(e){z=e.ItemManager},function(e){k=e.GameModalLauncher},function(e){R=e.Pauser},function(e){U=e.GameUI},function(e){I=e.EnemyDeathEffectSpawner},function(e){S=e.EnemyManager},function(e){D=e.EnemyProjectileLauncher},function(e){E=e.MetaUpgrades},function(e){T=e.Player,G=e.PlayerData},function(e){x=e.HaloProjectileLauncher},function(e){O=e.ProjectileData},function(e){W=e.ProjectileLauncher},function(e){_=e.WaveProjectileLauncher},function(e){V=e.Upgrader},function(e){H=e.MetaUpgradeType}],execute:function(){var J,K,X,F,Y,q,B,N,Q,Z,$,ee,te,ae,ie,ne,re,oe,le,ce,se,ue,he,me,pe,ge,ye,de,Pe,fe,be,Le,je,we;l._RF.push({},"5faa9kT4WdAFJLecGHhA+VX","Game",void 0);var Me=c.ccclass,ve=c.property,Ae=(e("Game",(J=Me("Game"),K=ve(A),X=ve(T),F=ve(W),Y=ve(W),q=ve(W),B=ve(W),N=ve(W),Q=ve(S),Z=ve(I),$=ve(z),ee=ve(U),te=ve(s),ae=ve(f),ie=ve(P),ne=ve(u),J(((we=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"virtualJoystic",le,n(t)),i(t,"player",ce,n(t)),i(t,"haloProjectileLauncherComponent",se,n(t)),i(t,"horizontalProjectileLauncherComponent",ue,n(t)),i(t,"diagonalProjectileLauncherComponent",he,n(t)),i(t,"enemyAxeProjectileLauncherComponent",me,n(t)),i(t,"enemyMagicOrbProjectileLauncherComponent",pe,n(t)),i(t,"enemyManager",ge,n(t)),i(t,"deathEffectSpawner",ye,n(t)),i(t,"itemManager",de,n(t)),i(t,"gameUI",Pe,n(t)),i(t,"gameCanvas",fe,n(t)),i(t,"background",be,n(t)),i(t,"gameAudioAdapter",Le,n(t)),i(t,"blackScreen",je,n(t)),t.playerCollisionSystem=void 0,t.haloProjectileLauncher=void 0,t.horizontalProjectileLauncher=void 0,t.diagonalProjectileLauncher=void 0,t.enemyAxeProjectileLauncher=void 0,t.enemyMagicOrbProjectileLauncher=void 0,t.itemAttractor=void 0,t.gamePauser=new R,t.gameResult=void 0,t.timeAlive=0,t}a(t,e);var l=t.prototype;return l.start=function(){this.gamePauser.pause(),t.instance=this,this.blackScreen.active=!0},l.play=function(){var e=o((function*(e,a,i,n){for(yield this.setup(e,a,i,n),this.gamePauser.resume(),this.blackScreen.active=!1,g.Instance.ScreenFader.playClose();!this.gameResult.hasExitManually&&this.player.Health.IsAlive;)yield d(100);return this.gamePauser.pause(),t.instance=null,this.gameResult.score=this.timeAlive,this.gameResult.hasExitManually||(yield d(2e3)),this.gameResult}));return function(t,a,i,n){return e.apply(this,arguments)}}(),l.exitGame=function(){this.gameResult.hasExitManually=!0},l.update=function(e){this.gamePauser.IsPaused||(this.player.gameTick(e),this.playerCollisionSystem.gameTick(e),this.enemyManager.gameTick(e),this.haloProjectileLauncher.gameTick(e),this.horizontalProjectileLauncher.gameTick(e),this.diagonalProjectileLauncher.gameTick(e),this.enemyAxeProjectileLauncher.gameTick(e),this.enemyMagicOrbProjectileLauncher.gameTick(e),this.itemAttractor.gameTick(e),this.background.gameTick(),this.timeAlive+=e,this.gameUI.updateTimeAlive(this.timeAlive),g.Instance.MainCamera.node.setWorldPosition(this.player.node.worldPosition),this.gameUI.node.setWorldPosition(this.player.node.worldPosition))},l.setup=function(){var e=o((function*(e,t,a,i){yield y(),this.gameCanvas.cameraComponent=g.Instance.MainCamera,this.gameResult=new Ae;var n=new E(e.game.metaUpgrades,t.metaUpgrades);this.virtualJoystic.init();var r=new M(m.KEY_W,m.KEY_S,m.KEY_A,m.KEY_D),o=new M(m.ARROW_UP,m.ARROW_DOWN,m.ARROW_LEFT,m.ARROW_RIGHT),l=new v([this.virtualJoystic,r,o]);this.player.init(l,this.createPlayerData(t.player,n)),this.enemyManager.init(this.player.node,t.enemyManager),this.deathEffectSpawner.init(this.enemyManager),this.playerCollisionSystem=new L(this.player,t.player.collisionDelay,this.itemManager),new w(this.player.Weapon);var c=new O;c.damage=1+n.getUpgradeValue(H.OverallDamage),c.pierces=1+n.getUpgradeValue(H.ProjectilePiercing),this.haloProjectileLauncher=new x(this.haloProjectileLauncherComponent,this.player.node,t.player.haloLauncher,c),this.horizontalProjectileLauncher=new _(this.horizontalProjectileLauncherComponent,this.player.node,[new p(0,1),new p(-.1,.8),new p(.1,.8)],t.player.horizontalLauncher,c),this.diagonalProjectileLauncher=new _(this.diagonalProjectileLauncherComponent,this.player.node,[new p(-.5,-.5),new p(.5,-.5)],t.player.diagonalLauncher,c),this.enemyAxeProjectileLauncher=new D(this.enemyAxeProjectileLauncherComponent,this.player.node,this.enemyManager,t.enemyManager.axeLauncher),this.enemyMagicOrbProjectileLauncher=new D(this.enemyMagicOrbProjectileLauncherComponent,this.player.node,this.enemyManager,t.enemyManager.magicOrbLauncher),new j([this.haloProjectileLauncher,this.horizontalProjectileLauncher,this.diagonalProjectileLauncher]),this.itemAttractor=new C(this.player.node,100),new b(this.player.Magnet,this.itemAttractor);var s=new V(this.player,this.horizontalProjectileLauncher,this.haloProjectileLauncher,this.diagonalProjectileLauncher,t.upgrades),u=new k(g.Instance.ModalWindowManager,this.player,this.gamePauser,s,a);this.itemManager.init(this.enemyManager,this.player,this.gameResult,u,t.items),this.gameUI.init(this.player,u,this.itemManager,this.gameResult),this.background.init(this.player.node),i&&(this.timeAlive+=i.startTime,this.player.Level.addXp(i.startXP)),this.gameAudioAdapter.init(this.player,this.enemyManager,this.itemManager,this.horizontalProjectileLauncher,this.diagonalProjectileLauncher,this.haloProjectileLauncher)}));return function(t,a,i,n){return e.apply(this,arguments)}}(),l.createPlayerData=function(e,t){var a=Object.assign(new G,e);return a.maxHp=t.getUpgradeValue(H.Health)+e.defaultHP,a.requiredXP=e.requiredXP,a.speed=t.getUpgradeValue(H.MovementSpeed)+e.speed,a.regenerationDelay=e.regenerationDelay,a.xpMultiplier=t.getUpgradeValue(H.XPGatherer)+1,a.goldMultiplier=t.getUpgradeValue(H.GoldGatherer)+1,a.damage=t.getUpgradeValue(H.OverallDamage)+e.weapon.damage,a.strikeDelay=e.weapon.strikeDelay,a.magnetDuration=e.magnetDuration,a},r(t,null,[{key:"Instance",get:function(){return this.instance}}]),t}(h)).instance=void 0,le=t((oe=we).prototype,"virtualJoystic",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=t(oe.prototype,"player",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=t(oe.prototype,"haloProjectileLauncherComponent",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(oe.prototype,"horizontalProjectileLauncherComponent",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=t(oe.prototype,"diagonalProjectileLauncherComponent",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=t(oe.prototype,"enemyAxeProjectileLauncherComponent",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=t(oe.prototype,"enemyMagicOrbProjectileLauncherComponent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=t(oe.prototype,"enemyManager",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=t(oe.prototype,"deathEffectSpawner",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=t(oe.prototype,"itemManager",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=t(oe.prototype,"gameUI",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=t(oe.prototype,"gameCanvas",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=t(oe.prototype,"background",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=t(oe.prototype,"gameAudioAdapter",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=t(oe.prototype,"blackScreen",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=oe))||re)),e("GameResult",(function(){this.hasExitManually=!1,this.goldCoins=0,this.score=0})));l._RF.pop()}}}));

System.register("chunks:///_virtual/GameAssets.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioAssets.ts","./MetaUpgradeIcons.ts","./UpgradeIcons.ts"],(function(e){var t,s,n,r,i,a,o,c,u,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.createClass},function(e){a=e.cclegacy,o=e._decorator,c=e.Component},function(e){u=e.AudioAssets},function(e){p=e.MetaUpgradeIcons},function(e){l=e.UpgradeIcons}],execute:function(){var d,g,f,I,h,y,A,m,b;a._RF.push({},"564e96LsN1Hzbs2aO5hhzLF","GameAssets",void 0);var U=o.ccclass,z=o.property;e("GameAssets",(d=U("GameAssets"),g=z(l),f=z(p),I=z(u),d((A=t((y=function(e){function t(){for(var t,s=arguments.length,i=new Array(s),a=0;a<s;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,n(t,"upgradeIcons",A,r(t)),n(t,"metaUpgradeIcons",m,r(t)),n(t,"audioAssets",b,r(t)),t}return s(t,e),t.prototype.init=function(){this.upgradeIcons.init(),this.metaUpgradeIcons.init()},i(t,[{key:"UpgradeIcons",get:function(){return this.upgradeIcons}},{key:"MetaUpgradeIcons",get:function(){return this.metaUpgradeIcons}},{key:"AudioAssets",get:function(){return this.audioAssets}}]),t}(c)).prototype,"upgradeIcons",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(y.prototype,"metaUpgradeIcons",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=t(y.prototype,"audioAssets",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameAudioAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./ItemType.ts"],(function(e){var i,t,n,a,l,o,r,u,p,c;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,r=e.AudioClip,u=e.Component},function(e){p=e.AppRoot},function(e){c=e.ItemType}],execute:function(){var h,s,y,d,P,b,m,f,g,v,k,w,E,S,H,L,z,A,j,I,C,D,G,M,R,U,x,T,_,F,J;l._RF.push({},"eb842QdTMFOUJEdwMiA7AJN","GameAudioAdapter",void 0);var W=o.ccclass,B=o.property;e("GameAudioAdapter",(h=W("GameAudioAdapter"),s=B(r),y=B(r),d=B(r),P=B(r),b=B(r),m=B(r),f=B(r),g=B(r),v=B(r),k=B(r),w=B(r),E=B(r),S=B(r),H=B(r),h((A=i((z=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return i=e.call.apply(e,[this].concat(l))||this,n(i,"music",A,a(i)),n(i,"enemyHit",j,a(i)),n(i,"playerHit",I,a(i)),n(i,"playerDeath",C,a(i)),n(i,"weaponSwing",D,a(i)),n(i,"xpPickup",G,a(i)),n(i,"goldPickup",M,a(i)),n(i,"healthPotionPickup",R,a(i)),n(i,"magnetPickup",U,a(i)),n(i,"chestPickup",x,a(i)),n(i,"levelUp",T,a(i)),n(i,"horizontalProjectileLaunch",_,a(i)),n(i,"diagonalProjectileLaunch",F,a(i)),n(i,"haloProjectileLaunch",J,a(i)),i.audioPlayer=void 0,i.player=void 0,i}t(i,e);var l=i.prototype;return l.init=function(e,i,t,n,a,l){var o=this;p.Instance.AudioPlayer.playMusic(this.music),this.audioPlayer=p.Instance.AudioPlayer,this.player=e,e.Weapon.WeaponStrikeEvent.on((function(){return o.audioPlayer.playSound(o.weaponSwing)}),this),e.Level.LevelUpEvent.on((function(){return o.audioPlayer.playSound(o.levelUp)}),this),e.Health.HealthPointsChangeEvent.on(this.tryPlayPlayerHitSound,this),i.EnemyAddedEvent.on(this.addEnemyListeners,this),i.EnemyRemovedEvent.on(this.removeEnemyListeners,this),t.PickupEvent.on(this.playPickupItemSound,this),n.ProjectileLaunchedEvent.on((function(){return o.audioPlayer.playSound(o.horizontalProjectileLaunch)}),this),a.ProjectileLaunchedEvent.on((function(){return o.audioPlayer.playSound(o.diagonalProjectileLaunch)}),this),l.ProjectilesLaunchedEvent.on((function(){return o.audioPlayer.playSound(o.haloProjectileLaunch)}),this)},l.addEnemyListeners=function(e){e.Health.HealthPointsChangeEvent.on(this.playEnemyHitSound,this)},l.removeEnemyListeners=function(e){e.Health.HealthPointsChangeEvent.off(this.playEnemyHitSound)},l.tryPlayPlayerHitSound=function(e){e<0&&this.audioPlayer.playSound(this.playerHit),this.player.Health.IsAlive||this.audioPlayer.playSound(this.playerDeath)},l.playEnemyHitSound=function(){this.audioPlayer.playSound(this.enemyHit)},l.playPickupItemSound=function(e){var i;switch(e){case c.XP:i=this.xpPickup;break;case c.Gold:i=this.goldPickup;break;case c.HealthPotion:i=this.healthPotionPickup;break;case c.Magnet:i=this.magnetPickup;break;case c.Chest:i=this.chestPickup}this.audioPlayer.playSound(i)},i}(u)).prototype,"music",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(z.prototype,"enemyHit",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(z.prototype,"playerHit",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(z.prototype,"playerDeath",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(z.prototype,"weaponSwing",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(z.prototype,"xpPickup",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(z.prototype,"goldPickup",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(z.prototype,"healthPotionPickup",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(z.prototype,"magnetPickup",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(z.prototype,"chestPickup",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(z.prototype,"levelUp",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(z.prototype,"horizontalProjectileLaunch",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(z.prototype,"diagonalProjectileLaunch",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(z.prototype,"haloProjectileLaunch",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=z))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/GameConstants.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"62244ErrxhM7KBL7Skfhm6D","GameConstants",void 0);var n=t("SCREEN_WIDTH",510),s=t("SCREEN_HEIGHT",680);t("SCREEN_HALF_WIDTH",n/2),t("SCREEN_HALF_HEIGHT",s/2);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameModalLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game.ts","./GameModalWindowTypes.ts"],(function(a){var e,t,r,s;return{setters:[function(a){e=a.asyncToGenerator},function(a){t=a.cclegacy},function(a){r=a.Game},function(a){s=a.GameModalWindowTypes}],execute:function(){t._RF.push({},"19da7miMLJNc4P7s+8XveTX","GameModalLauncher",void 0);a("GameModalLauncher",function(){function a(a,e,t,r,s){this.modalWindowManager=a,this.player=e,this.gamePauser=t,this.upgrader=r,this.translationData=s,this.player.Level.LevelUpEvent.on(this.showLevelUpModal,this)}var t=a.prototype;return t.showLevelUpModal=function(){var a=e((function*(){this.gamePauser.pause();var a=yield this.modalWindowManager.showModal(s.LevelUp,{availableUpgrades:Array.from(this.upgrader.getAvailableUpgrades()),translationData:this.translationData});this.upgrader.upgradeSkill(a),this.gamePauser.resume()}));return function(){return a.apply(this,arguments)}}(),t.showChestModal=function(){var a=e((function*(){this.gamePauser.pause();var a=yield this.modalWindowManager.showModal(s.Chest,{availableUpgrades:Array.from(this.upgrader.getAvailableUpgrades()),translationData:this.translationData});this.upgrader.upgradeSkill(a),this.gamePauser.resume()}));return function(){return a.apply(this,arguments)}}(),t.showPauseModal=function(){var a=e((function*(){this.gamePauser.pause(),(yield this.modalWindowManager.showModal(s.Pause,this.modalWindowManager))?r.Instance.exitGame():this.gamePauser.resume()}));return function(){return a.apply(this,arguments)}}(),a}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameModalWindowTypes.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"72fb4NJe3NB4a16TVCrz8H6","GameModalWindowTypes",void 0);e("GameModalWindowTypes",function(e){return e.LevelUp="LevelUpModalWindow",e.Chest="ChestModalWindow",e.Pause="PauseModalWindow",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameRunner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./Game.ts","./AsyncUtils.ts"],(function(n){var e,t,s,a,i,c,o;return{setters:[function(n){e=n.createClass,t=n.asyncToGenerator},function(n){s=n.cclegacy,a=n.director},function(n){i=n.AppRoot},function(n){c=n.Game},function(n){o=n.delay}],execute:function(){s._RF.push({},"c3869g4LTpKIqL0d9EagibV","GameRunner",void 0);var r=n("GameRunner",function(){function n(){this.isRunning=!1}return n.prototype.playGame=function(){var n=t((function*(){this.isRunning=!0,a.loadScene("Game");for(var n=i.Instance.LiveUserData;null==c.Instance;)yield o(10);var e=yield c.Instance.play(n,i.Instance.Settings,i.Instance.TranslationData);n.game.goldCoins+=e.goldCoins,n.game.highscore<e.score&&(n.game.highscore=e.score),i.Instance.saveUserData(),a.loadScene("Menu"),this.isRunning=!1}));return function(){return n.apply(this,arguments)}}(),e(n,[{key:"IsRunning",get:function(){return this.isRunning}}],[{key:"Instance",get:function(){return this.instance}}]),n}());r.instance=new r,s._RF.pop()}}}));

System.register("chunks:///_virtual/GameSettings.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"5f9b9/asvpMk6Mohpkji98J","GameSettings",void 0);e("GameSettings",(function(){this.player=new i,this.upgrades=new r,this.metaUpgrades=new c,this.enemyManager=new w,this.items=new f}));var i=e("PlayerSettings",(function(){this.defaultHP=0,this.requiredXP=[],this.speed=0,this.regenerationDelay=0,this.collisionDelay=0,this.magnetDuration=0,this.weapon=new n,this.haloLauncher=new a,this.horizontalLauncher=new s,this.diagonalLauncher=new s})),n=e("WeaponSettings",(function(){this.strikeDelay=0,this.damage=0})),s=e("WaveLauncherSettings",(function(){this.wavesToShootPerUpgrade=0,this.launcher=new o})),a=e("HaloLauncherSettings",(function(){this.projectilesToSpawn=0,this.cooldownDivisorPerUpgrade=0,this.launcher=new o})),h=e("EnemyLauncherSettings",(function(){this.enemyIds=[],this.projectileLifetime=0,this.projectileSpeed=0,this.projectileDamage=0,this.cooldown=0})),o=e("ProjectileLauncherSettings",(function(){this.projectileLifetime=0,this.projectileSpeed=0,this.wavesToShoot=0,this.wavesDelayMs=0,this.cooldown=0})),r=e("UpgradeSettings",(function(){this.maxWeaponLengthUpgrades=0,this.maxWeaponDamageUpgrades=0,this.maxHorizontalProjectileUpgrades=0,this.maxDiagonalProjectileUpgrades=0,this.maxHaloProjectileUpgrades=0,this.maxRegenerationUpgrades=0})),c=e("MetaUpgradesSettings",(function(){this.health=new l,this.overallDamage=new l,this.projectilePiercing=new l,this.movementSpeed=new l,this.xpGatherer=new l,this.goldGatherer=new l})),l=e("MetaUpgradeSettings",(function(){this.costs=[],this.bonuses=[]})),w=e("EnemyManagerSettings",(function(){this.axeLauncher=new h,this.magicOrbLauncher=new h,this.enemies=[new S],this.periodicFollowMovers=[new g],this.individualEnemySpawners=[new d],this.circularEnemySpawners=[new u],this.waveEnemySpawners=[new p]})),g=e("PeriodicFollowMoverSettings",(function(){this.enemyIdToAffect="",this.followTime=0,this.waitTime=0})),m=e("GeneralEnemySpawnerSettings",(function(){this.enemyId="",this.startDelay=0,this.stopDelay=0,this.cooldown=0})),p=e("WaveEnemySpawnerSettings",(function(){this.common=new m,this.enemiesToSpawn=0})),u=e("CircularEnemySpawnerSettings",(function(){this.common=new m,this.enemiesToSpawn=0})),d=e("IndividualEnemySpawnerSettings",(function(){this.common=new m})),S=e("EnemySettings",(function(){this.id="",this.moveType="",this.graphicsType="",this.health=0,this.damage=0,this.speed=0,this.lifetime=0,this.xpReward=0,this.goldReward=0,this.healthPotionRewardChance=0,this.magnetRewardChance=0,this.chestRewardChance=0})),f=e("ItemSettings",(function(){this.healthPerPotion=0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameTimer.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"93024LYFAZP4J3Xa3AOz/Rx","GameTimer",void 0);t("GameTimer",function(){function t(t){this.targetDelay=void 0,this.currentDelay=0,this.targetDelay=t}var e=t.prototype;return e.gameTick=function(t){this.currentDelay+=t},e.tryFinishPeriod=function(){return this.targetDelay<=this.currentDelay&&(this.currentDelay=0,!0)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIButton.ts","./ItemType.ts"],(function(e){var t,i,r,a,o,n,l,s,u,p,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,l=e.ProgressBar,s=e.Label,u=e.Component},function(e){p=e.UIButton},function(e){c=e.ItemType}],execute:function(){var h,d,v,g,m,y,b,f,L,w,B;o._RF.push({},"2e3934mbwxGZ64mwdThAm0I","GameUI",void 0);var P=n.ccclass,I=n.property;e("GameUI",(h=P("GameUI"),d=I(l),v=I(s),g=I(s),m=I(p),h((f=t((b=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"xpBar",f,a(t)),r(t,"timeAliveText",L,a(t)),r(t,"goldLabel",w,a(t)),r(t,"pauseBtn",B,a(t)),t.playerLevel=void 0,t.modalLauncher=void 0,t.gameResult=void 0,t}i(t,e);var o=t.prototype;return o.init=function(e,t,i,r){this.playerLevel=e.Level,this.modalLauncher=t,this.gameResult=r,this.playerLevel.XpAddedEvent.on(this.updateProgressBar,this),this.playerLevel.LevelUpEvent.on(this.updateProgressBar,this),i.PickupEvent.on(this.tryUpdateGoldLabel,this),this.xpBar.progress=0,this.pauseBtn.InteractedEvent.on(this.showPauseWindow,this)},o.updateProgressBar=function(){this.xpBar.progress=this.playerLevel.XP/this.playerLevel.RequiredXP},o.tryUpdateGoldLabel=function(e){e===c.Gold&&(this.goldLabel.string=this.gameResult.goldCoins.toString())},o.showPauseWindow=function(){console.log("Show pause window"),this.modalLauncher.showPauseModal()},o.updateTimeAlive=function(e){this.timeAliveText.string=""+Math.floor(e)},t}(u)).prototype,"xpBar",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(b.prototype,"timeAliveText",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(b.prototype,"goldLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(b.prototype,"pauseBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=b))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/GroupType.ts",["cc"],(function(E){var e;return{setters:[function(E){e=E.cclegacy}],execute:function(){e._RF.push({},"99f17nqqu1OVZ5ltNXkX8mX","GroupType",void 0);E("GroupType",function(E){return E[E.DEFAULT=1]="DEFAULT",E[E.PLAYER=2]="PLAYER",E[E.ENEMY=4]="ENEMY",E[E.WEAPON=8]="WEAPON",E[E.ITEM=16]="ITEM",E[E.PLAYER_PROJECTILE=32]="PLAYER_PROJECTILE",E[E.ENEMY_PROJECTILE=64]="ENEMY_PROJECTILE",E[E.MAGNET_RANGE=128]="MAGNET_RANGE",E}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/HaloProjectileLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./GameTimer.ts","./MathUtils.ts"],(function(e){var i,t,r,n,o,c;return{setters:[function(e){i=e.createClass},function(e){t=e.cclegacy,r=e.Vec2},function(e){n=e.Signal},function(e){o=e.GameTimer},function(e){c=e.roundToOneDecimal}],execute:function(){t._RF.push({},"422b4bsPhVDfZf8f0Sid8O+","HaloProjectileLauncher",void 0);e("HaloProjectileLauncher",function(){function e(e,i,t,s){this.currentUpgrade=0,this.defaultCooldown=0,this.cooldownDivisorPerUpgrade=0,this.directions=[],this.fireTimer=new o(0),this.projectilesLaunchedEvent=new n,this.launcher=e,this.playerNode=i,this.defaultCooldown=t.launcher.cooldown,this.cooldownDivisorPerUpgrade=t.cooldownDivisorPerUpgrade;for(var a=2*Math.PI/t.projectilesToSpawn,l=0;l<t.projectilesToSpawn;l++){var h=c(Math.sin(a*l)),u=c(Math.cos(a*l));this.directions.push(new r(h,u).normalize())}e.init(t.launcher.projectileLifetime,t.launcher.projectileSpeed,s.damage,s.pierces)}var t=e.prototype;return t.gameTick=function(e){0!=this.currentUpgrade&&(this.launcher.gameTick(e),this.fireTimer.gameTick(e),this.fireTimer.tryFinishPeriod()&&(this.launcher.fireProjectiles(this.playerNode.worldPosition,this.directions),this.projectilesLaunchedEvent.trigger()))},t.upgrade=function(){this.currentUpgrade++,this.fireTimer=new o(this.defaultCooldown/(this.cooldownDivisorPerUpgrade*this.currentUpgrade))},i(e,[{key:"ProjectileCollisionEvent",get:function(){return this.launcher.ProjectileCollisionEvent}},{key:"ProjectileLaunchedEvent",get:function(){return this.launcher.ProjectileLaunchedEvent}},{key:"ProjectilesLaunchedEvent",get:function(){return this.projectilesLaunchedEvent}}]),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/IInput.ts",["cc"],(function(){var t;return{setters:[function(u){t=u.cclegacy}],execute:function(){t._RF.push({},"b82abZ+1yBP662pB7ZwSiuI","IInput",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/IndividualEnemySpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTimer.ts","./MathUtils.ts","./DelayedEnemySpawner.ts"],(function(e){var n,i,t,a,o,r;return{setters:[function(e){n=e.inheritsLoose},function(e){i=e.cclegacy,t=e.randomRange},function(e){a=e.GameTimer},function(e){o=e.randomPositiveOrNegative},function(e){r=e.DelayedEnemySpawner}],execute:function(){i._RF.push({},"2deefMtikJGF4RmVcSbCmQ5","IndividualEnemySpawner",void 0);e("IndividualEnemySpawner",function(e){function i(n,i){var t;return(t=e.call(this,i.common.startDelay,i.common.stopDelay)||this).spawnTimer=void 0,t.enemyId=void 0,t.enemySpawner=n,t.spawnTimer=new a(i.common.cooldown),t.enemyId=i.common.enemyId,t}return n(i,e),i.prototype.delayedGameTick=function(e){if(this.spawnTimer.gameTick(e),this.spawnTimer.tryFinishPeriod()){var n=t(300,600)*o(),i=t(300,600)*o();this.enemySpawner.spawnNewEnemy(n,i,this.enemyId)}},i}(r));i._RF.pop()}}}));

System.register("chunks:///_virtual/IProjectileLauncherSignaler.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"1932ckOOTpE158jxSIhqJKG","IProjectileLauncherSignaler",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ISignal.ts",["cc"],(function(){var c;return{setters:[function(n){c=n.cclegacy}],execute:function(){c._RF.push({},"626b0Nxu/VLcJiOSOnj67Fx","ISignal",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./ItemType.ts"],(function(e){var t,i,n,r,o,c,p,s,u,a,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){c=e.cclegacy,p=e._decorator,s=e.Enum,u=e.Component},function(e){a=e.Signal},function(e){l=e.ItemType}],execute:function(){var y,f,h,m,v;c._RF.push({},"724bauqfhVH0YWsXug16uHL","Item",void 0);var g=p.ccclass,d=p.property;e("Item",(y=g("Item"),f=d({type:s(l)}),y((v=t((m=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"itemType",v,r(t)),t.pickUpEvent=new a,t}i(t,e);var c=t.prototype;return c.setup=function(e){this.node.setWorldPosition(e),this.node.active=!0},c.pickup=function(){this.pickUpEvent.trigger(this),this.node.active=!1},o(t,[{key:"ItemType",get:function(){return this.itemType}},{key:"PickupEvent",get:function(){return this.pickUpEvent}}]),t}(u)).prototype,"itemType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=m))||h));c._RF.pop()}}}));

System.register("chunks:///_virtual/ItemAttractor.ts",["cc","./VecUtils.ts"],(function(e){var t,s;return{setters:[function(e){t=e.cclegacy},function(e){s=e.getDirection}],execute:function(){t._RF.push({},"9d10341ifJGV7qk2Jzo2LfZ","ItemAttractor",void 0);e("ItemAttractor",function(){function e(e,t){this.items=[],this.speedValues=[],this.playerNode=e,this.speedIncreasePerSecond=t}var t=e.prototype;return t.gameTick=function(e){for(var t=0;t<this.items.length;t++){var i=s(this.playerNode.worldPosition,this.items[t].node.worldPosition),o=this.items[t].node.worldPosition.clone();o.x+=i.x*this.speedValues[t]*e,o.y+=i.y*this.speedValues[t]*e,this.items[t].node.setWorldPosition(o),this.speedValues[t]+=this.speedIncreasePerSecond*e}},t.addItem=function(e){this.items.includes(e)||(e.PickupEvent.on(this.removeItem,this),this.items.push(e),this.speedValues.push(0))},t.removeItem=function(e){e.PickupEvent.off(this.removeItem);var t=this.items.indexOf(e);this.items.splice(t,1),this.speedValues.splice(t,1)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ItemManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./ItemSpawner.ts","./ItemType.ts","./PickupEffectManager.ts"],(function(e){var t,n,i,a,o,r,s,p,h,l,c,u,d,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,p=e.random,h=e.randomRange,l=e.Component},function(e){c=e.Signal},function(e){u=e.ItemSpawner},function(e){d=e.ItemType},function(e){w=e.PickupEffectManager}],execute:function(){var m,f,y,g,S,P,v,b,T,E,R,M,I,k,C;r._RF.push({},"7f3f88Cth5KB41SHDJviJ/K","ItemManager",void 0);var A=s.ccclass,L=s.property;e("ItemManager",(m=A("ItemManager"),f=L(u),y=L(u),g=L(u),S=L(u),P=L(u),v=L(w),m((E=t((T=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,i(t,"xpSpawner",E,a(t)),i(t,"goldSpawner",R,a(t)),i(t,"healthPotionSpawner",M,a(t)),i(t,"magnetSpawner",I,a(t)),i(t,"chestSpawner",k,a(t)),i(t,"pickupEffectManager",C,a(t)),t.player=void 0,t.gameResult=void 0,t.modalLauncher=void 0,t.healthPerPotion=void 0,t.pickupEvent=new c,t.itemTypeToAction=new Map,t}n(t,e);var r=t.prototype;return r.init=function(e,t,n,i,a){this.player=t,this.gameResult=n,this.modalLauncher=i,this.healthPerPotion=a.healthPerPotion,e.EnemyAddedEvent.on(this.addEnemyListeners,this),e.EnemyRemovedEvent.on(this.removeEnemyListeners,this),this.xpSpawner.init(),this.goldSpawner.init(),this.healthPotionSpawner.init(),this.magnetSpawner.init(),this.chestSpawner.init(),this.pickupEffectManager.init(),this.itemTypeToAction.set(d.XP,this.addXP.bind(this)),this.itemTypeToAction.set(d.Gold,this.addGold.bind(this)),this.itemTypeToAction.set(d.HealthPotion,this.useHealthPotion.bind(this)),this.itemTypeToAction.set(d.Magnet,this.activateMagnet.bind(this)),this.itemTypeToAction.set(d.Chest,this.openChest.bind(this))},r.pickupItem=function(e){if(!this.itemTypeToAction.has(e.ItemType))throw new Error("Does not have behaviour set for "+e.ItemType);this.pickupEffectManager.showEffect(e.node.worldPosition),this.itemTypeToAction.get(e.ItemType)(),this.pickupEvent.trigger(e.ItemType),e.pickup()},r.addXP=function(){this.player.Level.addXp(1)},r.addGold=function(){this.gameResult.goldCoins++},r.useHealthPotion=function(){this.player.Health.heal(this.healthPerPotion)},r.activateMagnet=function(){this.player.Magnet.activate()},r.openChest=function(){this.modalLauncher.showChestModal()},r.addEnemyListeners=function(e){e.DeathEvent.on(this.trySpawnItems,this)},r.removeEnemyListeners=function(e){e.DeathEvent.off(this.trySpawnItems)},r.trySpawnItems=function(e){this.trySpawnXP(e),this.trySpawnGold(e),t.trySpawnOnce(e.HealthPotionRewardChance,this.healthPotionSpawner,this.getRandomPosition(e)),t.trySpawnOnce(e.MagnetRewardChance,this.magnetSpawner,this.getRandomPosition(e)),t.trySpawnOnce(e.ChestRewardChance,this.chestSpawner,this.getRandomPosition(e))},r.trySpawnXP=function(e){for(var t=0;t<e.XPReward;t++)this.xpSpawner.spawn(this.getRandomPosition(e))},r.trySpawnGold=function(e){if(!(e.GoldReward<=0))if(e.GoldReward<1)p()<e.GoldReward&&this.goldSpawner.spawn(e.node.worldPosition);else for(var t=0;t<e.GoldReward;t++)this.goldSpawner.spawn(this.getRandomPosition(e))},t.trySpawnOnce=function(e,t,n){p()<e&&t.spawn(n)},r.getRandomPosition=function(e){var t=e.node.worldPosition;return t.x+=h(-15,15),t.y+=h(-15,15),t},o(t,[{key:"PickupEvent",get:function(){return this.pickupEvent}}]),t}(l)).prototype,"xpSpawner",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(T.prototype,"goldSpawner",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(T.prototype,"healthPotionSpawner",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(T.prototype,"magnetSpawner",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(T.prototype,"chestSpawner",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(T.prototype,"pickupEffectManager",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=T))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts"],(function(t){var e,r,i,n,o,a,c,s,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Prefab,s=t.Component},function(t){u=t.ObjectPool}],execute:function(){var l,p,f,m,h;o._RF.push({},"74c52wKzO1PKKANoBI3QmS7","ItemSpawner",void 0);var P=a.ccclass,b=a.property;t("ItemSpawner",(l=P("ItemSpawner"),p=b(c),l((h=e((m=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"itemPrefab",h,n(e)),e.itemPool=void 0,e}r(e,t);var o=e.prototype;return o.init=function(){this.itemPool=new u(this.itemPrefab,this.node,5,"Item")},o.spawn=function(t){var e=this.itemPool.borrow();e.setup(t),e.PickupEvent.on(this.return,this)},o.return=function(t){t.PickupEvent.off(this.return),this.itemPool.return(t)},e}(s)).prototype,"itemPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=m))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/ItemType.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"bd234IB9GxAMY4tkw+pCyJ3","ItemType",void 0);t("ItemType",function(t){return t[t.XP=0]="XP",t[t.Gold=1]="Gold",t[t.HealthPotion=2]="HealthPotion",t[t.Magnet=3]="Magnet",t[t.Chest=4]="Chest",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/KeyboardInput.ts",["cc"],(function(i){var s,t,e,h;return{setters:[function(i){s=i.cclegacy,t=i.Vec2,e=i.input,h=i.Input}],execute:function(){s._RF.push({},"14d49iLCLxKDpfnsGt4saGA","KeyboardInput",void 0);i("KeyboardInput",function(){function i(i,s,t,n){this.xAxis=0,this.yAxis=0,this.up=void 0,this.down=void 0,this.left=void 0,this.right=void 0,this.up=i,this.down=s,this.left=t,this.right=n,e.on(h.EventType.KEY_DOWN,this.onKeyDown,this),e.on(h.EventType.KEY_UP,this.onKeyUp,this)}var s=i.prototype;return s.getAxis=function(){return new t(this.xAxis,this.yAxis).normalize()},s.onKeyDown=function(i){switch(i.keyCode){case this.up:this.yAxis=1;break;case this.down:this.yAxis=-1;break;case this.left:this.xAxis=-1;break;case this.right:this.xAxis=1}},s.onKeyUp=function(i){switch(i.keyCode){case this.up:this.yAxis=1===this.yAxis?0:this.yAxis;break;case this.down:this.yAxis=-1===this.yAxis?0:this.yAxis;break;case this.left:this.xAxis=-1===this.xAxis?0:this.xAxis;break;case this.right:this.xAxis=1===this.xAxis?0:this.xAxis}},i}());s._RF.pop()}}}));

System.register("chunks:///_virtual/LevelUpModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModalWindow.ts","./ArrayUtils.ts","./AsyncUtils.ts","./LevelUpSkill.ts"],(function(e){var i,t,n,a,l,o,r,s,c,p,d,u,f,h,v;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,l=e.asyncToGenerator},function(e){o=e.cclegacy,r=e._decorator,s=e.Prefab,c=e.Node,p=e.instantiate,d=e.Vec3},function(e){u=e.ModalWindow},function(e){f=e.shuffle},function(e){h=e.delay},function(e){v=e.LevelUpSkill}],execute:function(){var y,g,k,P,U,b,w;o._RF.push({},"f7ac68qK+pC7LXQWJdgAYVs","LevelUpModalWindow",void 0);var L=r.ccclass,m=r.property;e("LevelUpModalWindow",(y=L("LevelUpModalWindow"),g=m(s),k=m(c),y((b=i((U=function(e){function i(){for(var i,t=arguments.length,l=new Array(t),o=0;o<t;o++)l[o]=arguments[o];return i=e.call.apply(e,[this].concat(l))||this,n(i,"skillPrefab",b,a(i)),n(i,"skillParent",w,a(i)),i.maxUpgradesToPick=3,i}t(i,e);var o=i.prototype;return o.setup=function(){var e=l((function*(e){var i=f(e.availableUpgrades);this.maxUpgradesToPick<i.length&&(i.length=this.maxUpgradesToPick);var t=[-172,0,172];yield h(300);for(var n=0;n<i.length;n++){yield h(500);var a=p(this.skillPrefab).getComponent(v);a.node.setParent(this.skillParent),a.node.setPosition(new d(t[n])),a.init(i[n],e.translationData),a.ChooseSkillEvent.on(this.chooseSkill,this)}}));return function(i){return e.apply(this,arguments)}}(),o.chooseSkill=function(e){this.dismiss(e)},i}(u)).prototype,"skillPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=i(U.prototype,"skillParent",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=U))||P)),e("LevelUpModalWindowParams",(function(){this.availableUpgrades=void 0,this.translationData=void 0}));o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelUpSkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./Signal.ts"],(function(e){var i,l,t,n,o,r,s,c,a,p,u,k,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,l=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,c=e.Label,a=e.Sprite,p=e.NodeEventType,u=e.Component},function(e){k=e.AppRoot},function(e){h=e.Signal}],execute:function(){var v,f,g,y,S,T,b,d,I;r._RF.push({},"65e26iJvE9IfYYlYC+87Y6x","LevelUpSkill",void 0);var E=s.ccclass,L=s.property;e("LevelUpSkill",(v=E("LevelUpSkill"),f=L(c),g=L(c),y=L(a),v((b=i((T=function(e){function i(){for(var i,l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,t(i,"skillTitle",b,n(i)),t(i,"skillDescription",d,n(i)),t(i,"skillIcon",I,n(i)),i.chooseSkillEvent=new h,i.skillType=void 0,i}l(i,e);var r=i.prototype;return r.init=function(e,i){this.skillType=e,this.skillTitle.string=""+i[e+"_TITLE"],this.skillDescription.string=""+i[e+"_DESC"],this.skillIcon.spriteFrame=k.Instance.GameAssets.UpgradeIcons.getIcon(e),this.node.on(p.TOUCH_START,this.chooseSkill,this)},r.chooseSkill=function(){this.chooseSkillEvent.trigger(this.skillType)},o(i,[{key:"ChooseSkillEvent",get:function(){return this.chooseSkillEvent}}]),i}(u)).prototype,"skillTitle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=i(T.prototype,"skillDescription",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(T.prototype,"skillIcon",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=T))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/Magnet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTimer.ts"],(function(e){var i,t,r,n,o,a,c,l,s,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,c=e._decorator,l=e.CircleCollider2D,s=e.Component},function(e){u=e.GameTimer}],execute:function(){var d,h,p,f,v;a._RF.push({},"05a1dLKkINNEa04GJK8DVCC","Magnet",void 0);var m=c.ccclass,g=c.property;e("Magnet",(d=m("Magnet"),h=g(l),d((v=i((f=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,r(i,"collider",v,n(i)),i.timer=void 0,i.duration=void 0,i}t(i,e);var a=i.prototype;return a.init=function(e){this.duration=e,this.node.active=!1},a.activate=function(){this.timer=new u(this.duration),this.node.active=!0},a.gameTick=function(e){this.node.active&&(this.timer.gameTick(e),this.timer.tryFinishPeriod()&&(this.node.active=!1))},o(i,[{key:"Collider",get:function(){return this.collider}}]),i}(s)).prototype,"collider",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/MagnetCollisionSystem.ts",["cc","./Item.ts"],(function(t){var n,e,o;return{setters:[function(t){n=t.cclegacy,e=t.Contact2DType},function(t){o=t.Item}],execute:function(){n._RF.push({},"632b8DtwZNMhLVxf3Zju6dn","MagnetCollisionSystem",void 0);t("MagnetCollisionSystem",function(){function t(t,n){this.itemAttractor=n,t.Collider.on(e.BEGIN_CONTACT,this.onMagnetContactBegin,this)}return t.prototype.onMagnetContactBegin=function(t,n){this.itemAttractor.addItem(n.getComponent(o))},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Y8.ts","./Y8def.ts","./Analytics.ts","./AppRoot.ts","./AppRootUtils.ts","./SaveSystem.ts","./GameAudioAdapter.ts","./Background.ts","./MagnetCollisionSystem.ts","./PlayerCollisionSystem.ts","./PlayerProjectileCollisionSystem.ts","./WeaponCollisionSystem.ts","./AudioAssets.ts","./GameAssets.ts","./MetaUpgradeIcons.ts","./UpgradeIcons.ts","./GameConstants.ts","./GameSettings.ts","./TranslationData.ts","./UserData.ts","./Game.ts","./GroupType.ts","./IInput.ts","./KeyboardInput.ts","./MultiInput.ts","./VirtualJoystic.ts","./Item.ts","./ItemAttractor.ts","./ItemManager.ts","./ItemSpawner.ts","./ItemType.ts","./PickupEffect.ts","./PickupEffectManager.ts","./XP.ts","./ChestModalWindow.ts","./GameModalLauncher.ts","./GameModalWindowTypes.ts","./PauseModalWindow.ts","./Pauser.ts","./IProjectileLauncherSignaler.ts","./Projectile.ts","./ProjectileCollision.ts","./HaloProjectileLauncher.ts","./ProjectileData.ts","./ProjectileLauncher.ts","./WaveProjectileLauncher.ts","./TestGameRunner.ts","./GameUI.ts","./LevelUpModalWindow.ts","./LevelUpSkill.ts","./AnimatedEnemy.ts","./BossEnemy.ts","./Enemy.ts","./EnemyDeathEffect.ts","./EnemyDeathEffectSpawner.ts","./EnemyGraphicsType.ts","./EnemyManager.ts","./EnemyMovementType.ts","./EnemyMover.ts","./FollowTargetEnemyMover.ts","./PeriodicFollowMovers.ts","./PeriodicFollowTargetEnemyMover.ts","./WaveEnemyMover.ts","./CircularEnemySpawner.ts","./DelayedEnemySpawner.ts","./EnemySpawner.ts","./IndividualEnemySpawner.ts","./WaveEnemySpawner.ts","./EnemyProjectileLauncher.ts","./MetaUpgrades.ts","./Magnet.ts","./Player.ts","./PlayerRegeneration.ts","./PlayerHealthUI.ts","./PlayerUI.ts","./UpgradableCollider.ts","./Weapon.ts","./UnitHealth.ts","./UnitLevel.ts","./UpgradeType.ts","./Upgrader.ts","./GameRunner.ts","./Menu.ts","./AudioSettingsModalWindow.ts","./MenuModalLauncher.ts","./MenuModalWindowTypes.ts","./UpgradeLevelPointUI.ts","./UpgradeUI.ts","./UpgradesModalWindow.ts","./AudioPlayer.ts","./ISignal.ts","./Signal.ts","./GameTimer.ts","./ModalWindow.ts","./ModalWindowManager.ts","./ObjectPool.ts","./UIButton.ts","./ArrayUtils.ts","./AsyncUtils.ts","./MathUtils.ts","./StringUtils.ts","./VecUtils.ts","./OpenCloseAnimator.ts","./UIButtonAudioPlayer.ts","./debug-view-runtime-control.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MathUtils.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t({getDegreeAngleFromDirection:function(t,n){var e=Math.atan2(n,t)/Math.PI*180;return e<0?e+360:e},randomPositiveOrNegative:function(){return Math.random()<.5?1:-1},roundToOneDecimal:function(t){return Math.round(10*t)/10}}),n._RF.push({},"93ac2ZIsghGYpEaaIaECE4q","MathUtils",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Menu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./AppRootUtils.ts","./UIButton.ts","./GameRunner.ts","./MenuModalLauncher.ts"],(function(e){var t,n,a,i,r,o,s,l,u,c,p,d,h,g,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator},function(e){o=e.cclegacy,s=e._decorator,l=e.Node,u=e.Label,c=e.Canvas,p=e.Component},function(e){d=e.AppRoot},function(e){h=e.requireAppRootAsync},function(e){g=e.UIButton},function(e){f=e.GameRunner},function(e){m=e.MenuModalLauncher}],execute:function(){var v,b,y,L,w,I,C,M,A,U,G,S,B,z,P,D,R,W,F;o._RF.push({},"22c61zFd7hNRaAttffaS6ep","Menu",void 0);var _=s.ccclass,j=s.property;e("Menu",(v=_("Menu"),b=j(g),y=j(g),L=j(l),w=j(l),I=j(u),C=j(g),M=j(c),A=j(u),v((S=t((G=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"playBtn",S,i(t)),a(t,"upgradeBtn",B,i(t)),a(t,"upgradeAvailableIndicator",z,i(t)),a(t,"goldCounter",P,i(t)),a(t,"goldLabel",D,i(t)),a(t,"audioSettingsBtn",R,i(t)),a(t,"menuCanvas",W,i(t)),a(t,"highscoreLabel",F,i(t)),t.menuModalLauncher=void 0,t}n(t,e);var o=t.prototype;return o.start=function(){var e=r((function*(){h(),this.menuCanvas.cameraComponent=d.Instance.MainCamera,this.playBtn.InteractedEvent.on(this.startGame,this),this.upgradeBtn.InteractedEvent.on(this.openUpgradesWindow,this),this.audioSettingsBtn.InteractedEvent.on(this.openAudioSettingsWindow,this),this.menuModalLauncher=new m(d.Instance.ModalWindowManager),this.highscoreLabel.string=": "+Math.floor(d.Instance.LiveUserData.game.highscore),this.updateGoldIndicators()}));return function(){return e.apply(this,arguments)}}(),o.updateGoldIndicators=function(){this.upgradeAvailableIndicator.active=this.isUpgradeAffordable();var e=d.Instance.LiveUserData.game.goldCoins;this.goldCounter.active=0<e,this.goldLabel.string=e.toString()},o.isUpgradeAffordable=function(){var e=d.Instance.LiveUserData.game.goldCoins,t=d.Instance.LiveUserData.game.metaUpgrades,n=d.Instance.Settings.metaUpgrades,a=[];return this.tryPushLowestCost(t.goldGathererLevel,n.goldGatherer,a),this.tryPushLowestCost(t.healthLevel,n.health,a),this.tryPushLowestCost(t.movementSpeedLevel,n.movementSpeed,a),this.tryPushLowestCost(t.overallDamageLevel,n.overallDamage,a),this.tryPushLowestCost(t.projectilePiercingLevel,n.projectilePiercing,a),this.tryPushLowestCost(t.xpGathererLevel,n.xpGatherer,a),0<a.length&&Math.min.apply(Math,a)<=e},o.tryPushLowestCost=function(e,t,n){e<t.costs.length&&n.push(t.costs[e])},o.startGame=function(){d.Instance.ScreenFader.playOpen(),f.Instance.playGame()},o.openUpgradesWindow=function(){var e=r((function*(){yield this.menuModalLauncher.openUpgradesWindow(),this.updateGoldIndicators()}));return function(){return e.apply(this,arguments)}}(),o.openAudioSettingsWindow=function(){this.menuModalLauncher.openAudioSettingsWindow()},t}(p)).prototype,"playBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(G.prototype,"upgradeBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(G.prototype,"upgradeAvailableIndicator",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(G.prototype,"goldCounter",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(G.prototype,"goldLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(G.prototype,"audioSettingsBtn",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(G.prototype,"menuCanvas",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(G.prototype,"highscoreLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=G))||U));o._RF.pop()}}}));

System.register("chunks:///_virtual/MenuModalLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MenuModalWindowTypes.ts"],(function(n){var o,e,t;return{setters:[function(n){o=n.asyncToGenerator},function(n){e=n.cclegacy},function(n){t=n.MenuModalWindowTypes}],execute:function(){e._RF.push({},"fc622fSex1J84Wiq9uC4WOL","MenuModalLauncher",void 0);n("MenuModalLauncher",function(){function n(n){this.modalWindowManager=n}var e=n.prototype;return e.openUpgradesWindow=function(){var n=o((function*(){yield this.modalWindowManager.showModal(t.Upgrades,{})}));return function(){return n.apply(this,arguments)}}(),e.openAudioSettingsWindow=function(){var n=o((function*(){yield this.modalWindowManager.showModal(t.AudioSettings,{})}));return function(){return n.apply(this,arguments)}}(),n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/MenuModalWindowTypes.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"5c0f4Hq9ARFKrF7Ds39Cl9x","MenuModalWindowTypes",void 0);e("MenuModalWindowTypes",function(e){return e.Upgrades="UpgradesModalWindow",e.AudioSettings="AudioSettingsModalWindow",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/MetaUpgradeIcons.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UpgradeType.ts"],(function(e){var t,r,i,o,a,n,p,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,p=e.SpriteFrame,l=e.Component},function(e){c=e.MetaUpgradeType}],execute:function(){var s,h,u,g,y,S,b,d,m,f,v,I,T,w,G;a._RF.push({},"b18fbEgJGZOJ6w+6tEMaD+0","MetaUpgradeIcons",void 0);var D=n.ccclass,M=n.property;e("MetaUpgradeIcons",(s=D("MetaUpgradeIcons"),h=M(p),u=M(p),g=M(p),y=M(p),S=M(p),b=M(p),s((f=t((m=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,i(t,"healthSprite",f,o(t)),i(t,"overallDamageSprite",v,o(t)),i(t,"projectilePiercingSprite",I,o(t)),i(t,"movementSpeedSprite",T,o(t)),i(t,"xpGathererSprite",w,o(t)),i(t,"goldGathererSprite",G,o(t)),t.typeToIcon=new Map,t}r(t,e);var a=t.prototype;return a.init=function(){this.typeToIcon.set(c.Health,this.healthSprite),this.typeToIcon.set(c.OverallDamage,this.overallDamageSprite),this.typeToIcon.set(c.ProjectilePiercing,this.projectilePiercingSprite),this.typeToIcon.set(c.MovementSpeed,this.movementSpeedSprite),this.typeToIcon.set(c.XPGatherer,this.xpGathererSprite),this.typeToIcon.set(c.GoldGatherer,this.goldGathererSprite)},a.getIcon=function(e){if(!this.typeToIcon.has(e))throw new Error("Does not have upgrade type asset "+e);return this.typeToIcon.get(e)},t}(l)).prototype,"healthSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(m.prototype,"overallDamageSprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(m.prototype,"projectilePiercingSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(m.prototype,"movementSpeedSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(m.prototype,"xpGathererSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(m.prototype,"goldGathererSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/MetaUpgrades.ts",["cc","./UpgradeType.ts"],(function(e){var t,a;return{setters:[function(e){t=e.cclegacy},function(e){a=e.MetaUpgradeType}],execute:function(){t._RF.push({},"5086346EzlKOqpYdPMWszRK","MetaUpgrades",void 0);e("MetaUpgrades",function(){function e(e,t){this.upgradeTypeToValue=new Map,this.upgradeTypeToValue.set(a.Health,this.getBonusValue(e.healthLevel,t.health.bonuses)),this.upgradeTypeToValue.set(a.OverallDamage,this.getBonusValue(e.overallDamageLevel,t.overallDamage.bonuses)),this.upgradeTypeToValue.set(a.ProjectilePiercing,this.getBonusValue(e.projectilePiercingLevel,t.projectilePiercing.bonuses)),this.upgradeTypeToValue.set(a.MovementSpeed,this.getBonusValue(e.movementSpeedLevel,t.movementSpeed.bonuses)),this.upgradeTypeToValue.set(a.XPGatherer,this.getBonusValue(e.xpGathererLevel,t.xpGatherer.bonuses)),this.upgradeTypeToValue.set(a.GoldGatherer,this.getBonusValue(e.goldGathererLevel,t.goldGatherer.bonuses))}var t=e.prototype;return t.getBonusValue=function(e,t){if(e<=0)return 0;if(t.length<e)throw new Error("Meta upgrade does not have settings for level "+e);return t[e-1]},t.getUpgradeValue=function(e){if(!this.upgradeTypeToValue.has(e))throw new Error("Does not have meta upgrade set up "+e);return this.upgradeTypeToValue.get(e)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIButton.ts","./AsyncUtils.ts"],(function(t){var n,i,e,o,s,r,a,l,u,c,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.asyncToGenerator},function(t){r=t.cclegacy,a=t._decorator,l=t.Animation,u=t.Component},function(t){c=t.UIButton},function(t){m=t.delay}],execute:function(){var p,d,h,f,y,v,b;r._RF.push({},"69f01H/95hOA6GxZJCsyPsP","ModalWindow",void 0);var g=a.property;t("ModalWindow",(p=g(l),d=g(c),h=g(c),y=n((f=function(t){function n(){for(var n,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return n=t.call.apply(t,[this].concat(s))||this,e(n,"animation",y,o(n)),e(n,"closeButton",v,o(n)),e(n,"backgroundCloseButton",b,o(n)),n.result=void 0,n.isDismissed=!1,n.openAnimationName="open",n.closeAnimationName="close",n}i(n,t);var r=n.prototype;return r.runAsync=function(){var t=s((function*(t){var n,i,e,o,s=this;for(null==(n=this.closeButton)||n.InteractedEvent.on((function(){return s.dismiss()}),this),null==(i=this.backgroundCloseButton)||i.InteractedEvent.on((function(){return s.dismiss()}),this),this.setup(t),null==(e=this.animation)||e.play(this.openAnimationName);!this.isDismissed;)yield m(100);return null==(o=this.animation)||o.play(this.closeAnimationName),yield m(1e3*this.getCloseAnimationTime()),this.result}));return function(n){return t.apply(this,arguments)}}(),r.dismiss=function(t){this.result=t,this.isDismissed=!0},r.getCloseAnimationTime=function(){var t,n=null==(t=this.animation)?void 0:t.getState(this.closeAnimationName);return null!=n?n.duration:0},n}(u)).prototype,"animation",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(f.prototype,"closeButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=n(f.prototype,"backgroundCloseButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f));r._RF.pop()}}}));

System.register("chunks:///_virtual/ModalWindowManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,r,t,a,i,o,l,c,s,u;return{setters:[function(n){e=n.applyDecoratedDescriptor,r=n.inheritsLoose,t=n.initializerDefineProperty,a=n.assertThisInitialized,i=n.asyncToGenerator},function(n){o=n.cclegacy,l=n._decorator,c=n.Prefab,s=n.Component,u=n.instantiate}],execute:function(){var d,p,f,y,h;o._RF.push({},"c623fhj2b5Cyau8MBXLOmVF","ModalWindowManager",void 0);var v=l.ccclass,M=l.property;n("ModalWindowManager",(d=v("ModalWindowManager"),p=M(c),d((h=e((y=function(n){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i))||this,t(e,"availableWindows",h,a(e)),e}return r(e,n),e.prototype.showModal=function(){var n=i((function*(n,e){var r=this.availableWindows.find((function(e){return e.name===n})),t=u(r);t.setParent(this.node);var a=t.getComponent(n),i=yield a.runAsync(e);return t.destroy(),i}));return function(e,r){return n.apply(this,arguments)}}(),e}(s)).prototype,"availableWindows",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=y))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/MultiInput.ts",["cc"],(function(t){var i,n;return{setters:[function(t){i=t.cclegacy,n=t.Vec2}],execute:function(){i._RF.push({},"679d7wF37RD6IEVmvI1Iicz","MultiInput",void 0);t("MultiInput",function(){function t(t){this.inputs=void 0,this.inputs=t}return t.prototype.getAxis=function(){for(var t=0;t<this.inputs.length;t++)if(!this.inputs[t].getAxis().equals(n.ZERO))return this.inputs[t].getAxis();return new n},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,o=t.instantiate}],execute:function(){n._RF.push({},"a4ed3tMiYlPCJMDTXo66QcD","ObjectPool",void 0);t("ObjectPool",function(){function t(t,e,n,o){this.prefab=void 0,this.parent=void 0,this.pooledObjects=[],this.componentName=void 0,this.prefab=t,this.parent=e,this.componentName=o;for(var r=0;r<n;r++)this.createNew()}var e=t.prototype;return e.borrow=function(){var t=this.pooledObjects.find((function(t){return!t.IsBorrowed}));return null!=t?t.borrow():this.createNew().borrow()},e.return=function(t){var e=this.pooledObjects.find((function(e){return e.Equals(t)}));if(null==e)throw new Error("Object "+this.prefab.name+" is not a member of the pool");e.return()},e.createNew=function(){var t=new r(this.prefab,this.parent,this.componentName);return this.pooledObjects.push(t),t},t}());var r=function(){function t(t,e,n){this.isBorrowed=!1,this.defaultParent=void 0,this.instancedNode=void 0,this.instancedComponent=void 0,this.defaultParent=e,this.instancedNode=o(t),this.instancedComponent=this.instancedNode.getComponent(n),null==this.instancedComponent&&console.error("Object "+t.name+" does not have component "+n),this.clear()}var n=t.prototype;return n.Equals=function(t){return this.instancedComponent==t},n.borrow=function(){return this.isBorrowed=!0,this.instancedComponent},n.return=function(){this.clear()},n.clear=function(){this.instancedNode.active=!1,this.instancedNode.parent=this.defaultParent,this.isBorrowed=!1},e(t,[{key:"IsBorrowed",get:function(){return this.isBorrowed}}]),t}();n._RF.pop()}}}));

System.register("chunks:///_virtual/OpenCloseAnimator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncUtils.ts"],(function(t){var e,n,i,o,a,r,s,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.asyncToGenerator},function(t){r=t.cclegacy,s=t._decorator,c=t.Animation,l=t.Component},function(t){p=t.delay}],execute:function(){var u,h,m,y,f;r._RF.push({},"f9bdcLpmMdIgqWNOgetdMv1","OpenCloseAnimator",void 0);var d=s.ccclass,v=s.property;t("OpenCloseAnimator",(u=d("OpenCloseAnimator"),h=v(c),u((f=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"animation",f,o(e)),e.openStateName="Open",e.closeStateName="Close",e.openDuration=0,e.closeDuration=0,e}n(e,t);var r=e.prototype;return r.init=function(){this.openDuration=this.animation.getState(this.openStateName).duration,this.closeDuration=this.animation.getState(this.closeStateName).duration},r.playOpen=function(){var t=a((function*(){this.node.active=!0,this.animation.play(this.openStateName),yield p(1e3*this.openDuration)}));return function(){return t.apply(this,arguments)}}(),r.playClose=function(){var t=a((function*(){this.node.active=!0,this.animation.play(this.closeStateName),yield p(1e3*this.closeDuration),this.node.active=!1}));return function(){return t.apply(this,arguments)}}(),e}(l)).prototype,"animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/PauseModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MenuModalWindowTypes.ts","./ModalWindow.ts","./UIButton.ts"],(function(t){var n,i,e,o,a,s,r,u,l;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator},function(t){r=t.MenuModalWindowTypes},function(t){u=t.ModalWindow},function(t){l=t.UIButton}],execute:function(){var d,c,p,h,w,f,g,M,m;a._RF.push({},"7951egxdo1MwZEP2TuQOLOq","PauseModalWindow",void 0);var y=s.ccclass,W=s.property;t("PauseModalWindow",(d=y("PauseModalWindow"),c=W(l),p=W(l),h=W(l),d((g=n((f=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,e(n,"continueBtn",g,o(n)),e(n,"audioSettingsButton",M,o(n)),e(n,"exitBtn",m,o(n)),n.modalWindowManager=void 0,n}i(n,t);var a=n.prototype;return a.setup=function(t){this.modalWindowManager=t,this.continueBtn.InteractedEvent.on(this.continueGame,this),this.audioSettingsButton.InteractedEvent.on(this.openSettingsWindow,this),this.exitBtn.InteractedEvent.on(this.exitGame,this)},a.openSettingsWindow=function(){this.modalWindowManager.showModal(r.AudioSettings,{})},a.continueGame=function(){this.dismiss(!1)},a.exitGame=function(){this.dismiss(!0)},n}(u)).prototype,"continueBtn",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=n(f.prototype,"audioSettingsButton",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=n(f.prototype,"exitBtn",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=f))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/Pauser.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var s,u;return{setters:[function(e){s=e.createClass},function(e){u=e.cclegacy}],execute:function(){u._RF.push({},"d20ebZ4qvlH5r0SQ/o308m6","Pauser",void 0);e("Pauser",function(){function e(){this.isPaused=!1}var u=e.prototype;return u.pause=function(){this.isPaused=!0},u.resume=function(){this.isPaused=!1},s(e,[{key:"IsPaused",get:function(){return this.isPaused}}]),e}());u._RF.pop()}}}));

System.register("chunks:///_virtual/PeriodicFollowMovers.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PeriodicFollowTargetEnemyMover.ts"],(function(e){var o,r,n;return{setters:[function(e){o=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy},function(e){n=e.PeriodicFollowTargetEnemyMover}],execute:function(){r._RF.push({},"dadbfL8KfBDSIPowYY1NYHp","PeriodicFollowMovers",void 0);e("PeriodicFollowMovers",function(){function e(e,r){this.enemyIdToMover=new Map;for(var i,t=o(r);!(i=t()).done;){var c=i.value;this.enemyIdToMover.set(c.enemyIdToAffect,new n(e,c.followTime,c.waitTime))}}var r=e.prototype;return r.addEnemy=function(e){this.requireEnemyMover(e),this.enemyIdToMover.get(e.Id).addEnemy(e)},r.removeEnemy=function(e){this.requireEnemyMover(e),this.enemyIdToMover.get(e.Id).removeEnemy(e)},r.gameTick=function(e){for(var r,n=o(this.enemyIdToMover.values());!(r=n()).done;){r.value.gameTick(e)}},r.requireEnemyMover=function(e){if(!this.enemyIdToMover.has(e.Id))throw new Error("There is no periodic follow mover for enemy with id "+e.Id)},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/PeriodicFollowTargetEnemyMover.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyMover.ts"],(function(e){var t,o,i,l,n;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,l=e.Vec3},function(e){n=e.EnemyMover}],execute:function(){i._RF.push({},"02c4bPsP3dIXaU5MlZO1dY7","PeriodicFollowTargetEnemyMover",void 0);e("PeriodicFollowTargetEnemyMover",function(e){function i(t,o,i){var l;return(l=e.call(this,t)||this).enemyToFollowState=new Map,l.enemyToStateTimeLeft=new Map,l.followTime=o,l.waitTime=i,l}t(i,e);var n=i.prototype;return n.addEnemy=function(t){this.setEnemyFollowState(t,a.Follow,this.followTime),e.prototype.addEnemy.call(this,t)},n.removeEnemy=function(t){e.prototype.removeEnemy.call(this,t)},n.gameTick=function(e){for(var t,i=o(this.enemies);!(t=i()).done;){var n=t.value,r=this.enemyToStateTimeLeft.get(n)-e;if(r<=0?this.switchEnemyFollowState(n):this.enemyToStateTimeLeft.set(n,r),this.enemyToFollowState.get(n)===a.Follow){var s=new l;s=l.subtract(s,this.targetNode.worldPosition,n.node.worldPosition),n.gameTick(s.normalize(),e)}else this.enemyToFollowState.get(n)===a.Wait&&n.gameTick(new l,e)}},n.switchEnemyFollowState=function(e){var t=this.enemyToFollowState.get(e);t===a.Follow?this.setEnemyFollowState(e,a.Wait,this.waitTime):t===a.Wait&&this.setEnemyFollowState(e,a.Follow,this.followTime)},n.setEnemyFollowState=function(e,t,o){this.enemyToFollowState.set(e,t),this.enemyToStateTimeLeft.set(e,o)},i}(n));var a=e("EnemyFollowState",function(e){return e[e.Follow=0]="Follow",e[e.Wait=1]="Wait",e}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/PickupEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n,r,o,c,a,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,c=i._decorator,a=i.Animation,u=i.Component}],execute:function(){var p,l,s,f,y;o._RF.push({},"0f2b2zQHR5IYoIfX8uDxOwj","PickupEffect",void 0);var h=c.ccclass,m=c.property;i("PickupEffect",(p=h("PickupEffect"),l=m(a),p((y=t((f=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return t=i.call.apply(i,[this].concat(o))||this,n(t,"animation",y,r(t)),t}return e(t,i),t.prototype.init=function(){this.animation.play("PickBonus")},t}(u)).prototype,"animation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=f))||s));o._RF.pop()}}}));

System.register("chunks:///_virtual/PickupEffectManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts","./AsyncUtils.ts"],(function(e){var t,n,i,o,r,c,f,a,u,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.asyncToGenerator},function(e){c=e.cclegacy,f=e._decorator,a=e.Prefab,u=e.Component},function(e){l=e.ObjectPool},function(e){s=e.delay}],execute:function(){var p,y,P,h,d;c._RF.push({},"65b41IfpM9H4ZfUHg0/xy7s","PickupEffectManager",void 0);var v=f.ccclass,g=f.property;e("PickupEffectManager",(p=v("PickupEffectManager"),y=g(a),p((d=t((h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,i(t,"pickupEffect",d,o(t)),t.effectPool=void 0,t}n(t,e);var c=t.prototype;return c.init=function(){this.effectPool=new l(this.pickupEffect,this.node,5,"PickupEffect")},c.showEffect=function(){var e=r((function*(e){var t,n=this.effectPool.borrow();n.node.setWorldPosition(e),n.node.active=!0,yield s(450),null==(t=this.effectPool)||t.return(n)}));return function(t){return e.apply(this,arguments)}}(),t}(u)).prototype,"pickupEffect",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=h))||P));c._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncUtils.ts","./UnitHealth.ts","./UnitLevel.ts","./Magnet.ts","./PlayerRegeneration.ts","./PlayerUI.ts","./Weapon.ts"],(function(e){var i,t,n,a,r,l,o,s,h,p,u,c,y,g,m,f,d,v,b,P,w,M,k;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass,l=e.asyncToGenerator},function(e){o=e.cclegacy,s=e._decorator,h=e.BoxCollider2D,p=e.Node,u=e.Animation,c=e.Sprite,y=e.Vec2,g=e.Vec3,m=e.Component,f=e.Color},function(e){d=e.delay},function(e){v=e.UnitHealth},function(e){b=e.UnitLevel},function(e){P=e.Magnet},function(e){w=e.PlayerRegeneration},function(e){M=e.PlayerUI},function(e){k=e.Weapon}],execute:function(){var D,x,A,I,H,U,z,C,R,T,G,E,L,W,S,X,_;o._RF.push({},"b570au4G81O8IXoTXg1MQAd","Player",void 0);var q=s.ccclass,B=s.property;e("Player",(D=q("Player"),x=B(h),A=B(M),I=B(k),H=B(P),U=B(p),z=B(u),C=B(c),D((G=i((T=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return i=e.call.apply(e,[this].concat(r))||this,n(i,"collider",G,a(i)),n(i,"playerUI",E,a(i)),n(i,"weapon",L,a(i)),n(i,"magnet",W,a(i)),n(i,"playerGraphics",S,a(i)),n(i,"animation",X,a(i)),n(i,"sprite",_,a(i)),i.input=void 0,i.health=void 0,i.level=void 0,i.regeneration=void 0,i.speed=void 0,i.isMoveAnimationPlaying=!1,i}t(i,e);var o=i.prototype;return o.init=function(e,i){this.input=e,this.health=new v(i.maxHp),this.level=new b(i.requiredXP,i.xpMultiplier),this.regeneration=new w(this.health,i.regenerationDelay),this.speed=i.speed,this.weapon.init(i.strikeDelay,i.damage),this.magnet.init(i.magnetDuration),this.health.HealthPointsChangeEvent.on(this.animateHpChange,this),this.playerUI.init(this.health)},o.gameTick=function(e){this.move(e),this.weapon.gameTick(e),this.magnet.gameTick(e),this.regeneration.gameTick(e)},o.move=function(e){if(this.health.IsAlive){var i=this.input.getAxis();if(i.equals(y.ZERO))this.isMoveAnimationPlaying&&(this.isMoveAnimationPlaying=!1,this.animation.play("Idle"));else{i.x*=e*this.speed,i.y*=e*this.speed;var t=this.node.worldPosition;t.x+=i.x,t.y+=i.y,this.node.setWorldPosition(t),this.isMoveAnimationPlaying||(this.isMoveAnimationPlaying=!0,this.animation.play("Move")),i.x<0?this.playerGraphics.setScale(new g(1,1,1)):0<i.x&&this.playerGraphics.setScale(new g(-1,1,1))}}},o.animateHpChange=function(){var e=l((function*(e){this.sprite.color=e<0?f.RED:f.GREEN,yield d(100),this.sprite.color=f.WHITE,this.health.IsAlive||this.animation.play("Die")}));return function(i){return e.apply(this,arguments)}}(),r(i,[{key:"Health",get:function(){return this.health}},{key:"Level",get:function(){return this.level}},{key:"Weapon",get:function(){return this.weapon}},{key:"Magnet",get:function(){return this.magnet}},{key:"Regeneration",get:function(){return this.regeneration}},{key:"Collider",get:function(){return this.collider}}]),i}(m)).prototype,"collider",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(T.prototype,"playerUI",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(T.prototype,"weapon",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(T.prototype,"magnet",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=i(T.prototype,"playerGraphics",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=i(T.prototype,"animation",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(T.prototype,"sprite",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=T))||R)),e("PlayerData",(function(){this.requiredXP=[],this.speed=0,this.maxHp=0,this.regenerationDelay=0,this.xpMultiplier=0,this.goldMultiplier=0,this.strikeDelay=0,this.damage=0,this.magnetDuration=0}));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerCollisionSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./GameTimer.ts","./GroupType.ts","./Item.ts","./Projectile.ts","./Enemy.ts"],(function(e){var t,o,i,n,s,l,r,a,c;return{setters:[function(e){t=e.createClass},function(e){o=e.cclegacy,i=e.Contact2DType},function(e){n=e.Signal},function(e){s=e.GameTimer},function(e){l=e.GroupType},function(e){r=e.Item},function(e){a=e.Projectile},function(e){c=e.Enemy}],execute:function(){o._RF.push({},"ea4efzvyfVBFrQ9fK6FvymP","PlayerCollisionSystem",void 0);e("PlayerCollisionSystem",function(){function e(e,t,o){this.playerContacts=[],this.collisionTimer=void 0,this.groupToResolver=new Map,this.itemPickedUpEvent=new n,this.player=e,this.itemManager=o,this.player=e,e.Collider.on(i.BEGIN_CONTACT,this.onPlayerContactBegin,this),e.Collider.on(i.END_CONTACT,this.onPlayerContactEnd,this),this.collisionTimer=new s(t),this.groupToResolver.set(l.ENEMY,this.resolveEnemyContact.bind(this)),this.groupToResolver.set(l.ENEMY_PROJECTILE,this.resolveEnemyProjectileContact.bind(this)),this.groupToResolver.set(l.ITEM,this.resolveItemContact.bind(this))}var o=e.prototype;return o.gameTick=function(e){this.collisionTimer.gameTick(e),this.collisionTimer.tryFinishPeriod()&&this.resolveAllContacts()},o.onPlayerContactBegin=function(e,t){this.playerContacts.push(t),this.resolveContact(t)},o.onPlayerContactEnd=function(e,t){var o=this.playerContacts.indexOf(t);-1!=o&&this.playerContacts.splice(o,1)},o.resolveAllContacts=function(){for(var e=0;e<this.playerContacts.length;e++)this.resolveContact(this.playerContacts[e])},o.resolveContact=function(e){this.player.Health.IsAlive&&(this.groupToResolver.has(e.group)?this.groupToResolver.get(e.group)(e):console.log("Collided with undefined group: "+e.group))},o.resolveEnemyContact=function(e){var t=e.node.getComponent(c).Damage;console.log("Collided with enemy: Damage: "+t),this.player.Health.damage(t)},o.resolveEnemyProjectileContact=function(e){var t=e.node.getComponent(a),o=t.Damage;t.pierce(),console.log("Collided with enemy projectile: Damage: "+o),this.player.Health.damage(o)},o.resolveItemContact=function(e){console.log("Collided with item"),this.itemManager.pickupItem(e.node.getComponent(r))},t(e,[{key:"ItemPickedUpEvent",get:function(){return this.itemPickedUpEvent}}]),e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerHealthUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,a,r,i,h,l,n,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){h=t.cclegacy,l=t._decorator,n=t.ProgressBar,o=t.Component}],execute:function(){var s,c,p,u,f;h._RF.push({},"def45qvzIhOxpf/TVsL6wFb","PlayerHealthUI",void 0);var y=l.ccclass,v=l.property;t("PlayerHealthUI",(s=y("PlayerHealthUI"),c=v(n),s((f=e((u=function(t){function e(){for(var e,a=arguments.length,h=new Array(a),l=0;l<a;l++)h[l]=arguments[l];return e=t.call.apply(t,[this].concat(h))||this,r(e,"healthBar",f,i(e)),e.health=void 0,e}a(e,t);var h=e.prototype;return h.init=function(t){this.healthBar.progress=1,this.health=t,this.health.HealthPointsChangeEvent.on(this.updateHealthBar,this)},h.updateHealthBar=function(){this.healthBar.progress=this.health.HealthPoints/this.health.MaxHealthPoints},e}(o)).prototype,"healthBar",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=u))||p));h._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerProjectileCollisionSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enemy.ts"],(function(e){var o,t,i;return{setters:[function(e){o=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy},function(e){i=e.Enemy}],execute:function(){t._RF.push({},"9d0163bbjRPN7GX6JqqgsVy","PlayerProjectileCollisionSystem",void 0);e("PlayerProjectileCollisionSystem",function(){function e(e){for(var t,i=o(e);!(t=i()).done;){t.value.ProjectileCollisionEvent.on(this.onProjectileCollision,this)}}return e.prototype.onProjectileCollision=function(e){e.otherCollider.getComponent(i).dealDamage(e.projectile.Damage),e.projectile.pierce()},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerRegeneration.ts",["cc","./GameTimer.ts"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.GameTimer}],execute:function(){t._RF.push({},"d7c2fF4UjlMgLP1a2p5e7cf","PlayerRegeneration",void 0);e("PlayerRegeneration",function(){function e(e,t){this.currentRegenerationAmount=0,this.regenerationDelay=void 0,this.regenerationTimer=new n(0),this.health=void 0,this.health=e,this.regenerationDelay=t}var t=e.prototype;return t.upgrade=function(){this.currentRegenerationAmount++,this.regenerationTimer=new n(this.regenerationDelay/this.currentRegenerationAmount)},t.gameTick=function(e){this.currentRegenerationAmount<=0||(this.regenerationTimer.gameTick(e),this.regenerationTimer.tryFinishPeriod()&&this.health.heal(1))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerHealthUI.ts"],(function(e){var t,r,i,n,a,l,o,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,o=e.Component},function(e){c=e.PlayerHealthUI}],execute:function(){var s,u,p,h,y;a._RF.push({},"6247fDeRcFOdImqOIwhfOOj","PlayerUI",void 0);var f=l.ccclass,I=l.property;e("PlayerUI",(s=f("PlayerUI"),u=I(c),s((y=t((h=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"healthUI",y,n(t)),t}return r(t,e),t.prototype.init=function(e){this.healthUI.init(e)},t}(o)).prototype,"healthUI",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h))||p));a._RF.pop()}}}));

System.register("chunks:///_virtual/Projectile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts"],(function(e){var t,i,n,r,o,c,s,l,a,p,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){c=e.cclegacy,s=e._decorator,l=e.Collider2D,a=e.Contact2DType,p=e.Vec3,u=e.Component},function(e){h=e.Signal}],execute:function(){var g,d,f,C,v;c._RF.push({},"6a24eYAhmtMDZo5Wb8iLC5Q","Projectile",void 0);var y=s.ccclass,D=s.property;e("Projectile",(g=y("Projectile"),d=D(l),g((v=t((C=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return t=e.call.apply(e,[this].concat(o))||this,n(t,"collider",v,r(t)),t.contactBeginEvent=new h,t.piercesDepletedEvent=new h,t.isContactListenerSet=!1,t.piercesLeft=0,t.damage=0,t}i(t,e);var c=t.prototype;return c.setup=function(e,t,i){this.piercesLeft=t,this.damage=e,this.isContactListenerSet||(this.isContactListenerSet=!0,this.collider.on(a.BEGIN_CONTACT,this.onColliderContactBegin,this)),this.node.setRotationFromEuler(new p(0,0,i))},c.pierce=function(){this.piercesLeft--,this.piercesLeft<=0&&this.piercesDepletedEvent.trigger(this)},c.onColliderContactBegin=function(e,t){this.contactBeginEvent.trigger({otherCollider:t,projectile:this})},o(t,[{key:"Damage",get:function(){return this.damage}},{key:"ContactBeginEvent",get:function(){return this.contactBeginEvent}},{key:"PiercesDepletedEvent",get:function(){return this.piercesDepletedEvent}}]),t}(u)).prototype,"collider",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=C))||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileCollision.ts",["cc"],(function(i){var e;return{setters:[function(i){e=i.cclegacy}],execute:function(){e._RF.push({},"0f4dbC4wTpBzY1TuHtrYVrG","ProjectileCollision",void 0);i("ProjectileCollision",(function(){this.otherCollider=void 0,this.projectile=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileData.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"a4a07bz6fpIOLx8iG2arI9g","ProjectileData",void 0);t("ProjectileData",(function(){this.pierces=0,this.damage=0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/ProjectileLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./ObjectPool.ts","./MathUtils.ts"],(function(e){var i,t,o,r,n,c,s,l,p,h,a,j,u;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createForOfIteratorHelperLoose,c=e.createClass},function(e){s=e.cclegacy,l=e._decorator,p=e.Prefab,h=e.Component},function(e){a=e.Signal},function(e){j=e.ObjectPool},function(e){u=e.getDegreeAngleFromDirection}],execute:function(){var f,P,d,v,m;s._RF.push({},"e3d066A8exFBaWWn2gx4c4j","ProjectileLauncher",void 0);var g=l.ccclass,y=l.property;e("ProjectileLauncher",(f=g("ProjectileLauncher"),P=y(p),f((m=i((v=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return i=e.call.apply(e,[this].concat(n))||this,o(i,"projectilePrefab",m,r(i)),i.projectileCollisionEvent=new a,i.projectileLaunchedEvent=new a,i.projectileDamage=void 0,i.projectilePierces=void 0,i.projectileLifetime=void 0,i.projectileSpeed=void 0,i.projectilePool=void 0,i.projectiles=[],i.directions=[],i.expireTimes=[],i.currentTime=0,i}t(i,e);var s=i.prototype;return s.init=function(e,i,t,o){this.projectileLifetime=e,this.projectileSpeed=i,this.projectileDamage=t,this.projectilePierces=o,this.projectilePool=new j(this.projectilePrefab,this.node,6,"Projectile")},s.gameTick=function(e){this.currentTime+=e,this.tryRemoveExpiredProjectiles(),this.moveAllProjectiles(e)},s.fireProjectiles=function(e,i){for(var t,o=n(i);!(t=o()).done;){var r=t.value;this.fireProjectile(e,r)}},s.fireProjectile=function(e,i){i=i.normalize();var t=this.projectilePool.borrow();t.setup(this.projectileDamage,this.projectilePierces,u(i.x,i.y)),t.node.setWorldPosition(e),t.node.active=!0,t.ContactBeginEvent.on(this.onProjectileCollision,this),t.PiercesDepletedEvent.on(this.onPiercesDepleted,this),this.projectiles.push(t),this.directions.push(i),this.expireTimes.push(this.currentTime+this.projectileLifetime),this.projectileLaunchedEvent.trigger()},s.tryRemoveExpiredProjectiles=function(){for(var e=0;e<this.projectiles.length&&!(this.currentTime<this.expireTimes[e]);e++){var i=this.projectiles[e];this.removeProjectile(i,e),e--}},s.onPiercesDepleted=function(e){var i=this.projectiles.indexOf(e);if(-1===i)throw new Error("Projectile not found!");this.removeProjectile(e,i)},s.removeProjectile=function(e,i){e.ContactBeginEvent.off(this.onProjectileCollision),e.PiercesDepletedEvent.off(this.onPiercesDepleted),this.projectilePool.return(e),this.projectiles.splice(i,1),this.directions.splice(i,1),this.expireTimes.splice(i,1)},s.moveAllProjectiles=function(e){for(var i=0;i<this.projectiles.length;i++){var t=this.projectiles[i].node.worldPosition;t.x+=this.directions[i].x*e*this.projectileSpeed,t.y+=this.directions[i].y*e*this.projectileSpeed,this.projectiles[i].node.setWorldPosition(t)}},s.onProjectileCollision=function(e){this.projectileCollisionEvent.trigger(e)},c(i,[{key:"ProjectileCollisionEvent",get:function(){return this.projectileCollisionEvent}},{key:"ProjectileLaunchedEvent",get:function(){return this.projectileLaunchedEvent}}]),i}(h)).prototype,"projectilePrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=v))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/SaveSystem.ts",["cc","./UserData.ts"],(function(t){var e,r,n;return{setters:[function(t){e=t.cclegacy,r=t.sys},function(t){n=t.UserData}],execute:function(){e._RF.push({},"ed50c1LIfpKzJ/ukquvPiE0","SaveSystem",void 0);t("SaveSystem",function(){function t(){this.userDataIdentifier="user-dse"}var e=t.prototype;return e.save=function(t){r.localStorage.setItem(this.userDataIdentifier,JSON.stringify(t))},e.load=function(){var t=r.localStorage.getItem(this.userDataIdentifier);if(!t)return new n;try{return JSON.parse(t)}catch(t){return new n}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Signal.ts",["cc"],(function(t){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"421ffEMfhNPp4RKAD/X5zjK","Signal",void 0);t("Signal",function(){function t(){this.handlers=[],this.thisArgs=[]}var s=t.prototype;return s.on=function(t,s){this.handlers.push(t),this.thisArgs.push(s)},s.off=function(t){var s=this.handlers.indexOf(t);this.handlers.splice(s,1),this.thisArgs.splice(s,1)},s.trigger=function(t){for(var s=[].concat(this.handlers),n=[].concat(this.thisArgs),i=0;i<s.length;i++)s[i].call(n[i],t)},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtils.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){t("formatString",(function(t,r){for(var e=t,n=0;n<r.length;n++)e=e.replace("{"+n+"}",r[n]);return e})),r._RF.push({},"ceda7TLix5L05z7C78DFfxA","StringUtils",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/TestGameRunner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./GameRunner.ts","./AsyncUtils.ts","./UserData.ts","./Game.ts"],(function(e){var t,r,n,a,i,o,l,s,u,c,p,m,g,v,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose,o=e.asyncToGenerator},function(e){l=e.cclegacy,s=e._decorator,u=e.CCInteger,c=e.Component},function(e){p=e.AppRoot},function(e){m=e.GameRunner},function(e){g=e.delay},function(e){v=e.UserData},function(e){f=e.Game}],execute:function(){var y,h,b,d,L,G,T,w,D,P,R,S,x,z,I,U,A,M,X;l._RF.push({},"605c7sb1/tOhb3LnxAsxFGX","TestGameRunner",void 0);var j=s.ccclass,H=s.property;e("TestGameRunner",(y=j("TestGameRunner"),h=H(u),b=H(u),d=H(u),L=H(u),G=H(u),T=H(u),w=H(u),D=H(u),y((S=t((R=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"startTime",S,a(t)),n(t,"startXP",x,a(t)),n(t,"maxHpLevel",z,a(t)),n(t,"bonusDamageLevel",I,a(t)),n(t,"projectilePiercingLevel",U,a(t)),n(t,"movementSpeedLevel",A,a(t)),n(t,"xpGathererLevel",M,a(t)),n(t,"goldGathererLevel",X,a(t)),t}r(t,e);var l=t.prototype;return l.start=function(){m.Instance.IsRunning||this.playTestGameAsync()},l.playTestGameAsync=function(){var e=o((function*(){for(;null==f.Instance||null==p.Instance;)yield g(100);var e=new v;e.game.metaUpgrades.healthLevel=this.maxHpLevel,e.game.metaUpgrades.overallDamageLevel=this.bonusDamageLevel,e.game.metaUpgrades.projectilePiercingLevel=this.projectilePiercingLevel,e.game.metaUpgrades.movementSpeedLevel=this.movementSpeedLevel,e.game.metaUpgrades.xpGathererLevel=this.xpGathererLevel,e.game.metaUpgrades.goldGathererLevel=this.goldGathererLevel;var t=this.getTimeModifiedSettings(p.Instance.Settings);f.Instance.play(e,t,p.Instance.TranslationData,{startTime:this.startTime,startXP:this.startXP})}));return function(){return e.apply(this,arguments)}}(),l.getTimeModifiedSettings=function(e){for(var t,r=[].concat(e.enemyManager.circularEnemySpawners,e.enemyManager.individualEnemySpawners,e.enemyManager.waveEnemySpawners),n=i(r);!(t=n()).done;){var a=t.value;a.common.startDelay-=this.startTime,a.common.stopDelay-=this.startTime}return e},t}(c)).prototype,"startTime",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=t(R.prototype,"startXP",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(R.prototype,"maxHpLevel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=t(R.prototype,"bonusDamageLevel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(R.prototype,"projectilePiercingLevel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=t(R.prototype,"movementSpeedLevel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=t(R.prototype,"xpGathererLevel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=t(R.prototype,"goldGathererLevel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=R))||P)),e("TestValues",(function(){this.startTime=0,this.startXP=0}));l._RF.pop()}}}));

System.register("chunks:///_virtual/TranslationData.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8711bkjTmxK1rqJAGFFDUSh","TranslationData",void 0);t("TranslationData",(function(){}));n._RF.pop()}}}));

System.register("chunks:///_virtual/UIButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts"],(function(t){var n,e,r,o,i,c,a;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){r=t.cclegacy,o=t._decorator,i=t.Node,c=t.Component},function(t){a=t.Signal}],execute:function(){var s;r._RF.push({},"55e5f5nQ8dHiL5fPWjgdXbH","UIButton",void 0);var u=o.ccclass;o.property,t("UIButton",u("UIButton")(s=function(t){function r(){for(var n,e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return(n=t.call.apply(t,[this].concat(r))||this).interactedEvent=new a,n}n(r,t);var o=r.prototype;return o.start=function(){this.node.on(i.EventType.TOUCH_START,this.interact,this)},o.interact=function(){console.log("interact"),this.interactedEvent.trigger(this)},e(r,[{key:"InteractedEvent",get:function(){return this.interactedEvent}}]),r}(c))||s);r._RF.pop()}}}));

System.register("chunks:///_virtual/UIButtonAudioPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./UIButton.ts"],(function(t){var n,o,e,i,r,u,a,c,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,a=t.Component},function(t){c=t.AppRoot},function(t){s=t.UIButton}],execute:function(){var l,p,y,d,f;r._RF.push({},"146cdU9Cw9I+otUVSgpwCCT","UIButtonAudioPlayer",void 0);var A=u.ccclass,I=u.property;t("UIButtonAudioPlayer",(l=A("UIButtonAudioPlayer"),p=I(s),l((f=n((d=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r))||this,e(n,"button",f,i(n)),n}o(n,t);var r=n.prototype;return r.start=function(){this.button.InteractedEvent.on(this.playButtonClick,this)},r.playButtonClick=function(){var t=c.Instance.GameAssets.AudioAssets.buttonClick;c.Instance.AudioPlayer.playSound(t)},n}(a)).prototype,"button",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=d))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/UnitHealth.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts"],(function(t){var n,e,i;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){i=t.Signal}],execute:function(){e._RF.push({},"149728dgAlNOYpvVTrhs6AR","UnitHealth",void 0);t("UnitHealth",function(){function t(t){this.healthPoints=void 0,this.maxHealthPoints=void 0,this.healthPointsChangeEvent=new i,this.maxHealthPoints=t,this.healthPoints=t}var e=t.prototype;return e.heal=function(t){this.healthPoints=Math.min(this.maxHealthPoints,this.healthPoints+t),this.healthPointsChangeEvent.trigger(t)},e.damage=function(t){this.healthPoints-=t,this.healthPointsChangeEvent.trigger(-t)},e.setMaxHealth=function(t){this.maxHealthPoints=t},n(t,[{key:"IsAlive",get:function(){return 0<this.healthPoints}},{key:"HealthPoints",get:function(){return this.healthPoints}},{key:"MaxHealthPoints",get:function(){return this.maxHealthPoints}},{key:"HealthPointsChangeEvent",get:function(){return this.healthPointsChangeEvent}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/UnitLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts"],(function(e){var t,i,n;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy},function(e){n=e.Signal}],execute:function(){i._RF.push({},"61e760eFahCzJkNuceEjdqz","UnitLevel",void 0);e("UnitLevel",function(){function e(e,t){this.xp=0,this.currentLevel=0,this.levelUpEvent=new n,this.xpAddedEvent=new n,this.requiredXPs=e,this.xpMultiplier=t}var i=e.prototype;return i.addXp=function(e){this.xp+=e*this.xpMultiplier,this.xpAddedEvent.trigger(this.xp),this.tryLevelUp()},i.tryLevelUp=function(){this.requiredXPs.length<=this.currentLevel||this.xp<this.requiredXPs[this.currentLevel]||(this.xp-=this.requiredXPs[this.currentLevel],this.currentLevel++,this.levelUpEvent.trigger(this.currentLevel),this.tryLevelUp())},t(e,[{key:"XP",get:function(){return this.xp}},{key:"RequiredXP",get:function(){return this.requiredXPs[this.currentLevel]}},{key:"LevelUpEvent",get:function(){return this.levelUpEvent}},{key:"XpAddedEvent",get:function(){return this.xpAddedEvent}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradableCollider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts"],(function(e){var t,r,n,i,o,l,a,c,s,d,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose,l=e.createClass},function(e){a=e.cclegacy,c=e._decorator,s=e.BoxCollider2D,d=e.Contact2DType,u=e.Component},function(e){p=e.Signal}],execute:function(){var g,v,h,f,C;a._RF.push({},"bba49sAP+VAQoXzfR8BfXXT","UpgradableCollider",void 0);var y=c.ccclass,U=c.property;e("UpgradableCollider",(g=y("UpgradableCollider"),v=U(s),g((C=t((f=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"colliders",C,i(t)),t.contactBeginEvent=new p,t.currentUpgradeLevel=0,t}r(t,e);var a=t.prototype;return a.init=function(){this.setUpgradeLevel();for(var e,t=o(this.colliders);!(e=t()).done;){e.value.on(d.BEGIN_CONTACT,this.onColliderContactBegin,this)}},a.upgrade=function(){if(this.currentUpgradeLevel==this.colliders.length-1)throw new Error("Already at max upgrade! "+this.currentUpgradeLevel);this.currentUpgradeLevel++,this.setUpgradeLevel()},a.setUpgradeLevel=function(){for(var e,t=o(this.colliders);!(e=t()).done;){e.value.node.active=!1}this.colliders[this.currentUpgradeLevel].node.active=!0},a.onColliderContactBegin=function(e,t){this.contactBeginEvent.trigger(t)},l(t,[{key:"ContactBeginEvent",get:function(){return this.contactBeginEvent}}]),t}(u)).prototype,"colliders",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=f))||h));a._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeIcons.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UpgradeType.ts"],(function(e){var t,i,r,o,n,a,p,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,p=e.SpriteFrame,l=e.Component},function(e){c=e.UpgradeType}],execute:function(){var s,u,g,h,y,b,S,f,I,w,d,P,j,m,T;n._RF.push({},"c397biITvtFvqyVIZApPuax","UpgradeIcons",void 0);var z=a.ccclass,v=a.property;e("UpgradeIcons",(s=z("UpgradeIcons"),u=v(p),g=v(p),h=v(p),y=v(p),b=v(p),S=v(p),s((w=t((I=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n))||this,r(t,"weaponLengthSprite",w,o(t)),r(t,"weaponDamageSprite",d,o(t)),r(t,"horizontalProjectileSprite",P,o(t)),r(t,"diagonalProjectileSprite",j,o(t)),r(t,"haloProjectileSprite",m,o(t)),r(t,"regenerationSprite",T,o(t)),t.typeToIcon=new Map,t}i(t,e);var n=t.prototype;return n.init=function(){this.typeToIcon.set(c.WeaponLength,this.weaponLengthSprite),this.typeToIcon.set(c.WeaponDamage,this.weaponDamageSprite),this.typeToIcon.set(c.HorizontalProjectile,this.horizontalProjectileSprite),this.typeToIcon.set(c.DiagonalProjectile,this.diagonalProjectileSprite),this.typeToIcon.set(c.HaloProjectlie,this.haloProjectileSprite),this.typeToIcon.set(c.Regeneration,this.regenerationSprite)},n.getIcon=function(e){if(!this.typeToIcon.has(e))throw new Error("Does not have upgrade type asset "+e);return this.typeToIcon.get(e)},t}(l)).prototype,"weaponLengthSprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=t(I.prototype,"weaponDamageSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(I.prototype,"horizontalProjectileSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(I.prototype,"diagonalProjectileSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(I.prototype,"haloProjectileSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(I.prototype,"regenerationSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=I))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeLevelPointUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,a,o,c,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Node,p=e.Component}],execute:function(){var u,l,s,d,g;a._RF.push({},"10d0fuUwd1E24b6fVo7KYFK","UpgradeLevelPointUI",void 0);var f=o.ccclass,h=o.property;e("UpgradeLevelPointUI",(u=f("UpgradeLevelPointUI"),l=h(c),u((g=r((d=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,i(r,"upgradedGraphics",g,n(r)),r}t(r,e);var a=r.prototype;return a.init=function(){this.upgradedGraphics.active=!1},a.upgrade=function(){this.upgradedGraphics.active=!0},r}(p)).prototype,"upgradedGraphics",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d))||s));a._RF.pop()}}}));

System.register("chunks:///_virtual/Upgrader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UpgradeType.ts"],(function(e){var t,a,i;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy},function(e){i=e.UpgradeType}],execute:function(){a._RF.push({},"51a093X7GNA3aDOGhZjLxb6","Upgrader",void 0);e("Upgrader",function(){function e(e,t,a,r,o){this.typeToAction=new Map,this.typeToLevel=new Map,this.typeToMaxLevel=new Map,this.player=e,this.horizontalProjectileLauncher=t,this.haloProjectileLauncher=a,this.diagonalProjectileLauncher=r,this.setTypeMaps(i.WeaponLength,this.upgradeWeaponLength.bind(this),o.maxWeaponLengthUpgrades),this.setTypeMaps(i.WeaponDamage,this.upgradeWeaponDamage.bind(this),o.maxWeaponDamageUpgrades),this.setTypeMaps(i.HorizontalProjectile,this.upgradeHorizontalProjectileLauncher.bind(this),o.maxHorizontalProjectileUpgrades),this.setTypeMaps(i.DiagonalProjectile,this.upgradeDiagonalProjectileLauncher.bind(this),o.maxDiagonalProjectileUpgrades),this.setTypeMaps(i.HaloProjectlie,this.upgradeHaloProjectileLauncher.bind(this),o.maxHaloProjectileUpgrades),this.setTypeMaps(i.Regeneration,this.upgradeRegeneration.bind(this),o.maxRegenerationUpgrades)}var a=e.prototype;return a.upgradeSkill=function(e){if(!this.typeToAction.has(e))throw new Error("Upgrade does not have "+e);if(this.isMaxLevel(e))throw new Error("Upgrade is already at max level "+e);this.typeToAction.get(e)();var t=this.typeToLevel.get(e);this.typeToLevel.set(e,t+1)},a.getAvailableUpgrades=function(){for(var e,a=new Set,i=t(this.typeToAction.keys());!(e=i()).done;){var r=e.value;this.isMaxLevel(r)||a.add(r)}return a},a.setTypeMaps=function(e,t,a){this.typeToAction.set(e,t),this.typeToLevel.set(e,0),this.typeToMaxLevel.set(e,a)},a.upgradeWeaponLength=function(){this.player.Weapon.upgradeWeaponLength()},a.upgradeWeaponDamage=function(){this.player.Weapon.upgradeWeaponDamage()},a.upgradeHorizontalProjectileLauncher=function(){this.horizontalProjectileLauncher.upgrade()},a.upgradeDiagonalProjectileLauncher=function(){this.diagonalProjectileLauncher.upgrade()},a.upgradeHaloProjectileLauncher=function(){this.haloProjectileLauncher.upgrade()},a.upgradeRegeneration=function(){this.player.Regeneration.upgrade()},a.isMaxLevel=function(e){return this.typeToMaxLevel.get(e)<=this.typeToLevel.get(e)},e}());a._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradesModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./UpgradeType.ts","./ModalWindow.ts","./UpgradeUI.ts"],(function(e){var t,a,r,i,o,n,s,p,l,d,u,g,c,h,v,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,n=e._decorator,s=e.Prefab,p=e.Node,l=e.Label,d=e.AudioClip,u=e.instantiate,g=e.find},function(e){c=e.AppRoot},function(e){h=e.MetaUpgradeType},function(e){v=e.ModalWindow},function(e){y=e.UpgradeUI}],execute:function(){var U,m,f,L,b,T,w,D,P,C,B;o._RF.push({},"854a4tmkIROzYFPAwDxL3/z","UpgradesModalWindow",void 0);var I=n.ccclass,M=n.property;e("UpgradesModalWindow",(U=I("UpgradesModalWindow"),m=M(s),f=M(p),L=M(l),b=M(d),U((D=t((w=function(e){function t(){for(var t,a=arguments.length,o=new Array(a),n=0;n<a;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"upgradeButtonPrefab",D,i(t)),r(t,"upgradeButtonParent",P,i(t)),r(t,"goldCoinsLabel",C,i(t)),r(t,"upgradeAudioClip",B,i(t)),t.typeToLevel=new Map,t.typeToCosts=new Map,t.typeToLevelKey=new Map,t.typeToUpgradeUI=new Map,t.userData=void 0,t}a(t,e);var o=t.prototype;return o.setup=function(){this.userData=c.Instance.LiveUserData;var e=c.Instance.Settings.metaUpgrades;this.createUpgradeButton(h.Health,e.health,"healthLevel"),this.createUpgradeButton(h.OverallDamage,e.overallDamage,"overallDamageLevel"),this.createUpgradeButton(h.ProjectilePiercing,e.projectilePiercing,"projectilePiercingLevel"),this.createUpgradeButton(h.MovementSpeed,e.movementSpeed,"movementSpeedLevel"),this.createUpgradeButton(h.XPGatherer,e.xpGatherer,"xpGathererLevel"),this.createUpgradeButton(h.GoldGatherer,e.goldGatherer,"goldGathererLevel"),this.goldCoinsLabel.string=this.userData.game.goldCoins.toString()},o.createUpgradeButton=function(e,t,a){var r=u(this.upgradeButtonPrefab),i=r.getComponent(y);i.init(e,t,this.userData.game.metaUpgrades[a],c.Instance.TranslationData),i.InteractedEvent.on(this.tryUpgrade,this),r.setParent(this.upgradeButtonParent),this.typeToLevel.set(e,this.userData.game.metaUpgrades[a]),this.typeToCosts.set(e,t.costs),this.typeToLevelKey.set(e,a),this.typeToUpgradeUI.set(e,i)},o.tryUpgrade=function(e){var t=this;console.log("Trying to upgrade "+e);var a=this.typeToCosts.get(e),r=this.typeToLevel.get(e);if(g("/Animated/Window/Tips",this.node).active=!1,!(a.length<=r)){if(this.userData.game.goldCoins<a[r])return g("/Animated/Window/Tips",this.node).active=!0,void this.scheduleOnce((function(){return g("/Animated/Window/Tips",t.node).active=!1}),2);c.Instance.AudioPlayer.playSound(this.upgradeAudioClip),this.userData.game.goldCoins-=a[r];var i=++this.userData.game.metaUpgrades[this.typeToLevelKey.get(e)];this.typeToUpgradeUI.get(e).updateLevel(i),this.typeToLevel.set(e,i),this.goldCoinsLabel.string=this.userData.game.goldCoins.toString(),c.Instance.saveUserData()}},t}(v)).prototype,"upgradeButtonPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(w.prototype,"upgradeButtonParent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(w.prototype,"goldCoinsLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(w.prototype,"upgradeAudioClip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=w))||T)),e("Empty",(function(){}));o._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeType.ts",["cc"],(function(e){var E;return{setters:[function(e){E=e.cclegacy}],execute:function(){E._RF.push({},"a481cMctrpIcbjX8VF4ikUK","UpgradeType",void 0);e("UpgradeType",function(e){return e.WeaponLength="WEAPON_LENGTH",e.WeaponDamage="WEAPON_DAMAGE",e.HorizontalProjectile="HORIZONTAL_PROJECTILE",e.DiagonalProjectile="DIAGONAL_PROJECTILE",e.HaloProjectlie="HALO_PROJECTILE",e.Regeneration="REGENERATION",e}({})),e("MetaUpgradeType",function(e){return e.Health="META_HEALTH",e.OverallDamage="META_OVERALL_DAMAGE",e.ProjectilePiercing="META_PROJECTILE_PIERCING",e.MovementSpeed="META_MOVEMENT_SPEED",e.XPGatherer="META_XP_GATHERER",e.GoldGatherer="META_GOLD_GATHERER",e}({}));E._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./Signal.ts","./UIButton.ts","./StringUtils.ts","./UpgradeLevelPointUI.ts"],(function(t){var e,i,n,r,a,o,l,s,u,p,c,g,d,v,h,b,f,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.createClass},function(t){o=t.cclegacy,l=t._decorator,s=t.Prefab,u=t.Node,p=t.Label,c=t.Sprite,g=t.instantiate,d=t.Component},function(t){v=t.AppRoot},function(t){h=t.Signal},function(t){b=t.UIButton},function(t){f=t.formatString},function(t){P=t.UpgradeLevelPointUI}],execute:function(){var y,I,U,m,S,L,w,z,D,E,B,T,_,x,F,A,C,R,H;o._RF.push({},"76eda6MFrpILZH9KDOZFHWs","UpgradeUI",void 0);var M=l.ccclass,k=l.property;t("UpgradeUI",(y=M("UpgradeUI"),I=k(s),U=k(u),m=k(p),S=k(p),L=k(p),w=k(p),z=k(c),D=k(b),y((T=e((B=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"levelPointPrefab",T,r(e)),n(e,"levelPointsParent",_,r(e)),n(e,"title",x,r(e)),n(e,"description",F,r(e)),n(e,"cost",A,r(e)),n(e,"maxLevel",C,r(e)),n(e,"icon",R,r(e)),n(e,"uiButton",H,r(e)),e.interactedEvent=new h,e.upgradeType=void 0,e.upgradeSettings=void 0,e.translationData=void 0,e.levelPointUIs=[],e}i(e,t);var o=e.prototype;return o.init=function(t,e,i,n){var r=this;this.upgradeType=t,this.upgradeSettings=e,this.translationData=n,this.icon.spriteFrame=v.Instance.GameAssets.MetaUpgradeIcons.getIcon(t),this.title.string=""+n[t+"_TITLE"],this.uiButton.InteractedEvent.on((function(){return r.interactedEvent.trigger(t)}),this);for(var a=0;a<this.upgradeSettings.bonuses.length;a++){var o=g(this.levelPointPrefab);o.setParent(this.levelPointsParent);var l=o.getComponent(P);l.init(),this.levelPointUIs.push(l)}this.updateLevel(i)},o.updateLevel=function(t){console.log("###");for(var e=0;e<this.levelPointUIs.length;e++)e<t&&this.levelPointUIs[e].upgrade();t<this.upgradeSettings.bonuses.length?(this.maxLevel.node.active=!1,this.description.string=f(""+this.translationData[this.upgradeType+"_DESC"],[this.upgradeSettings.bonuses[t].toString()]),this.cost.string=this.upgradeSettings.costs[t].toString()):(this.maxLevel.node.active=!0,this.cost.node.active=!1,this.description.node.active=!1)},a(e,[{key:"InteractedEvent",get:function(){return this.interactedEvent}}]),e}(d)).prototype,"levelPointPrefab",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=e(B.prototype,"levelPointsParent",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=e(B.prototype,"title",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(B.prototype,"description",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(B.prototype,"cost",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=e(B.prototype,"maxLevel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(B.prototype,"icon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=e(B.prototype,"uiButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=B))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/UserData.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7431f98SAxEdJQ0ZU7aChoI","UserData",void 0);e("UserData",(function(){this.soundVolume=1,this.musicVolume=1,this.game=new s}));var s=e("GameData",(function(){this.goldCoins=0,this.metaUpgrades=new a,this.highscore=0})),a=e("MetaUpgradesData",(function(){this.healthLevel=0,this.overallDamageLevel=0,this.projectilePiercingLevel=0,this.movementSpeedLevel=0,this.xpGathererLevel=0,this.goldGathererLevel=0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/VecUtils.ts",["cc"],(function(t){var e,c;return{setters:[function(t){e=t.cclegacy,c=t.Vec3}],execute:function(){t("getDirection",(function(t,e){var n=new c;return c.subtract(n,t,e).normalize()})),e._RF.push({},"06778nDdI9GQ4KvvTMhbu4w","VecUtils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualJoystic.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,n,s,a,c,r,h,u,l,v,y,p,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.classPrivateFieldLooseBase,a=t.classPrivateFieldLooseKey},function(t){c=t.cclegacy,r=t._decorator,h=t.CCFloat,u=t.Node,l=t.Vec2,v=t.input,y=t.Input,p=t.Vec3,b=t.Component}],execute:function(){var f,d,J,m,T,g,w,M,U;c._RF.push({},"a51b2i8TvBDJJf8RPlkzgh6","VirtualJoystic",void 0);var x=r.ccclass,D=r.property;t("VirtualJoystic",(f=x("VirtualJoystic"),d=D(h),J=D(u),f((M=a("isUsingJoystic"),U=a("defaultPosition"),g=i((T=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,o(i,"maxDistance",g,n(i)),o(i,"knob",w,n(i)),Object.defineProperty(n(i),M,{writable:!0,value:!1}),Object.defineProperty(n(i),U,{writable:!0,value:new l}),i}e(i,t);var a=i.prototype;return a.init=function(){v.on(y.EventType.MOUSE_DOWN,this.activateMouseJoystic,this),v.on(y.EventType.MOUSE_UP,this.deactivateJoystic,this),v.on(y.EventType.MOUSE_MOVE,this.moveKnobMouse,this),v.on(y.EventType.TOUCH_START,this.activateTouchJoystic,this),v.on(y.EventType.TOUCH_END,this.deactivateJoystic,this),v.on(y.EventType.TOUCH_MOVE,this.moveKnobTouch,this),this.deactivateJoystic()},a.getAxis=function(){return s(this,M)[M]?new l(this.knob.position.x/this.maxDistance,this.knob.position.y/this.maxDistance):new l},a.activateTouchJoystic=function(t){this.activateJoystic(t.getUILocation())},a.activateMouseJoystic=function(t){console.log(t.getUILocation()),this.activateJoystic(t.getUILocation())},a.activateJoystic=function(t){s(this,M)[M]=!0,this.node.active=!0,s(this,U)[U]=t,this.node.setPosition(new p(s(this,U)[U].x,s(this,U)[U].y,0)),this.knob.position=new p},a.deactivateJoystic=function(){s(this,M)[M]=!1,this.node.active=!1},a.moveKnobTouch=function(t){this.moveKnob(t.getUILocation())},a.moveKnobMouse=function(t){this.moveKnob(t.getUILocation())},a.moveKnob=function(t){if(s(this,M)[M]){var i=t.subtract(s(this,U)[U]),e=i.x,o=i.y,n=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2));if(this.maxDistance<n){var a=this.maxDistance/n;e*=a,o*=a}this.knob.position=new p(e,o,0)}},i}(b)).prototype,"maxDistance",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),w=i(T.prototype,"knob",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=T))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/WaveEnemyMover.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EnemyMover.ts"],(function(e){var t,o,n,i,r;return{setters:[function(e){t=e.inheritsLoose,o=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy,i=e.Vec3},function(e){r=e.EnemyMover}],execute:function(){n._RF.push({},"5215fbzhV5Njq+tgJFcp7Ly","WaveEnemyMover",void 0);e("WaveEnemyMover",function(e){function n(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).enemyToDirection=new Map,t.lastTargetPosition=new i,t.lastDirection=new i,t}t(n,e);var r=n.prototype;return r.addEnemy=function(t){var o=new i;i.equals(this.lastTargetPosition,this.targetNode.worldPosition)?o=this.lastDirection:(o=i.subtract(o,this.targetNode.worldPosition,t.node.worldPosition),this.lastDirection=o,this.lastTargetPosition=this.targetNode.worldPosition.clone()),this.enemyToDirection.set(t,o.normalize()),e.prototype.addEnemy.call(this,t)},r.removeEnemy=function(t){this.enemyToDirection.delete(t),e.prototype.removeEnemy.call(this,t)},r.gameTick=function(e){for(var t,n=o(this.enemyToDirection);!(t=n()).done;){var i=t.value;i[0].gameTick(i[1],e)}},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/WaveEnemySpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTimer.ts","./MathUtils.ts","./DelayedEnemySpawner.ts"],(function(e){var n,i,a,t,r,o;return{setters:[function(e){n=e.inheritsLoose},function(e){i=e.cclegacy,a=e.randomRange},function(e){t=e.GameTimer},function(e){r=e.randomPositiveOrNegative},function(e){o=e.DelayedEnemySpawner}],execute:function(){i._RF.push({},"d4d273GCTRG0rZXbB64f2gk","WaveEnemySpawner",void 0);e("WaveEnemySpawner",function(e){function i(n,i){var a;return(a=e.call(this,i.common.startDelay,i.common.stopDelay)||this).enemiesPerWave=void 0,a.enemyId=void 0,a.spawnTimer=void 0,a.enemySpawner=n,a.spawnTimer=new t(i.common.cooldown),a.enemiesPerWave=i.enemiesToSpawn,a.enemyId=i.common.enemyId,a}return n(i,e),i.prototype.delayedGameTick=function(e){if(this.spawnTimer.gameTick(e),this.spawnTimer.tryFinishPeriod())for(var n=(500+a(0,100))*r(),i=a(0,500)*r(),t=[],o=Math.ceil(Math.sqrt(this.enemiesPerWave)),s=0;s<this.enemiesPerWave;s++){var m=n+a(-20,20)+s%o*50,c=i+a(-20,20)+50*Math.floor(s/o),p=this.enemySpawner.spawnNewEnemy(m,c,this.enemyId);t.push(p)}},i}(o));i._RF.pop()}}}));

System.register("chunks:///_virtual/WaveProjectileLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameTimer.ts","./AsyncUtils.ts"],(function(e){var i,t,r,o,n;return{setters:[function(e){i=e.createClass,t=e.asyncToGenerator},function(e){r=e.cclegacy},function(e){o=e.GameTimer},function(e){n=e.delay}],execute:function(){r._RF.push({},"1ed6e/x2i5HJ49ELoAoSHGc","WaveProjectileLauncher",void 0);e("WaveProjectileLauncher",function(){function e(e,i,t,r,n){this.currentUpgrade=0,this.wavesToShootPerUpgrade=0,this.fireTimer=void 0,this.wavesToShoot=void 0,this.wavesDelayMs=void 0,this.launcher=e,this.playerNode=i,this.directions=t,this.wavesToShootPerUpgrade=r.wavesToShootPerUpgrade,this.fireTimer=new o(r.launcher.cooldown),this.wavesToShoot=r.launcher.wavesToShoot,this.wavesDelayMs=r.launcher.wavesDelayMs,e.init(r.launcher.projectileLifetime,r.launcher.projectileSpeed,n.damage,n.pierces)}var r=e.prototype;return r.gameTick=function(e){0!=this.currentUpgrade&&(this.launcher.gameTick(e),this.fireTimer.gameTick(e),this.fireTimer.tryFinishPeriod()&&this.fireProjectiles())},r.upgrade=function(){this.currentUpgrade++,this.wavesToShoot+=this.wavesToShootPerUpgrade},r.fireProjectiles=function(){var e=t((function*(){for(var e=0;e<this.wavesToShoot;e++)this.launcher.fireProjectiles(this.playerNode.worldPosition,this.directions),yield n(this.wavesDelayMs)}));return function(){return e.apply(this,arguments)}}(),i(e,[{key:"ProjectileCollisionEvent",get:function(){return this.launcher.ProjectileCollisionEvent}},{key:"ProjectileLaunchedEvent",get:function(){return this.launcher.ProjectileLaunchedEvent}}]),e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/Weapon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./GameTimer.ts","./UpgradableCollider.ts"],(function(e){var i,t,n,a,r,o,s,l,p,u,c,d;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,s=e._decorator,l=e.Animation,p=e.Component},function(e){u=e.Signal},function(e){c=e.GameTimer},function(e){d=e.UpgradableCollider}],execute:function(){var h,g,m,f,k,v,y;o._RF.push({},"2391bi3+fpCqLBGVf9XsH0C","Weapon",void 0);var b=s.ccclass,S=s.property;e("Weapon",(h=b("Weapon"),g=S(l),m=S(d),h((v=i((k=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return i=e.call.apply(e,[this].concat(r))||this,n(i,"weaponAnimation",v,a(i)),n(i,"upgradableCollider",y,a(i)),i.weaponStrikeEvent=new u,i.strikeTimer=void 0,i.strikeState=void 0,i.damage=void 0,i}t(i,e);var o=i.prototype;return o.init=function(e,i){this.strikeTimer=new c(e),this.damage=i,this.node.active=!1,this.weaponAnimation.on(l.EventType.FINISHED,this.endStrike,this),this.strikeState=this.weaponAnimation.getState(this.weaponAnimation.clips[0].name),this.strikeState.speed=1,this.upgradableCollider.init()},o.gameTick=function(e){this.strikeTimer.gameTick(e),this.strikeTimer.tryFinishPeriod()&&this.strike()},o.upgradeWeaponDamage=function(){this.damage++},o.upgradeWeaponLength=function(){this.upgradableCollider.upgrade()},o.strike=function(){this.node.active=!0,this.weaponAnimation.play(this.strikeState.name),this.weaponStrikeEvent.trigger(this)},o.endStrike=function(){this.node.active=!1},r(i,[{key:"WeaponStrikeEvent",get:function(){return this.weaponStrikeEvent}},{key:"Collider",get:function(){return this.upgradableCollider}},{key:"Damage",get:function(){return this.damage}}]),i}(p)).prototype,"weaponAnimation",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=i(k.prototype,"upgradableCollider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/WeaponCollisionSystem.ts",["cc","./Enemy.ts"],(function(n){var e,t;return{setters:[function(n){e=n.cclegacy},function(n){t=n.Enemy}],execute:function(){e._RF.push({},"eea898qQktBabK3e/UmHpdQ","WeaponCollisionSystem",void 0);n("WeaponCollisionSystem",function(){function n(n){this.weapon=void 0,this.weapon=n,n.Collider.ContactBeginEvent.on(this.onWeaponContactBegin,this)}return n.prototype.onWeaponContactBegin=function(n){n.getComponent(t).dealDamage(this.weapon.Damage)},n}());e._RF.pop()}}}));

System.register("chunks:///_virtual/XP.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Item.ts"],(function(t){var e,i,n,r,o,a,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Animation},function(t){l=t.Item}],execute:function(){var p,s,u,f,y;o._RF.push({},"801bc1fEuVM5pPn2btm9NKZ","XP",void 0);var h=a.ccclass,m=a.property;t("XP",(p=h("XP"),s=m(c),p((y=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"animation",y,r(e)),e}return i(e,t),e.prototype.setup=function(e){t.prototype.setup.call(this,e),this.animation.play("DropStart")},e}(l)).prototype,"animation",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=f))||u));o._RF.pop()}}}));

System.register("chunks:///_virtual/Y8.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i,e,o,r,s,c,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator},function(t){s=t.cclegacy,c=t._decorator,u=t.Component}],execute:function(){var a,l,p,d,f;s._RF.push({},"02815uBbB5KCYrk9LyzdXRa","Y8",void 0);var g=c.ccclass,y=c.property;t("Y8",(a=g("Y8"),l=y(String),a((f=n((d=function(t){function n(){for(var n,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return n=t.call.apply(t,[this].concat(r))||this,e(n,"appId",f,o(n)),n}i(n,t);var s=n.prototype;return s.init=function(){var t=this;return new Promise((function(n){window.idAsyncInit=function(){ID.Event.subscribe("id.init",n),ID.init({appId:t.appId})},function(t,n,i){var e=t.getElementsByTagName(n)[0];if(!t.getElementById(i)){var o=t.createElement(n);o.id=i,o.src="https:"==document.location.protocol?"https://cdn.y8.com/api/sdk.js":"http://cdn.y8.com/api/sdk.js",e.parentNode.insertBefore(o,e)}}(document,"script","id-jssdk")}))},s.login=function(){return console.log("Logging in"),new Promise((function(t){ID.login((function(n){t(n)}))}))},s.tryAutoLogin=function(){var t=r((function*(){var t=yield this.getLoginStatus();console.log(t),"not_linked"!=(null==t?void 0:t.status)&&"uncomplete"!=(null==t?void 0:t.status)||(yield this.login())}));return function(){return t.apply(this,arguments)}}(),s.isLoggedIn=function(){var t=r((function*(){var t=yield this.getLoginStatus();return 1==(null==t?void 0:t.success)}));return function(){return t.apply(this,arguments)}}(),s.sendCustomEvent=function(t,n){ID.Analytics.custom_event(t,n)},s.getLoginStatus=function(){return new Promise((function(t){ID.getLoginStatus(t)}))},n}(u)).prototype,"appId",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"ENTER APP ID"}}),p=d))||p));s._RF.pop()}}}));

System.register("chunks:///_virtual/Y8def.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var c;e("Y8API",void 0),t._RF.push({},"445aaDIOI5GZa7uClFoHnfk","Y8def",void 0),c||(c=e("Y8API",{})),t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});